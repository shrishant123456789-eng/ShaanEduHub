<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Class 1 Grammar: Articles (A, An, The)</title>
    <style>
        /* üé® GLOBAL STYLES & FONTS */
        @import url('https://fonts.googleapis.com/css2?family=Comic+Neue:wght@400;700&family=Fredoka:wght@400;600&display=swap');

        :root {
            --primary: #FFD700; /* Yellow */
            --secondary: #FF6B6B; /* Red */
            --accent: #4ECDC4; /* Teal/Blue */
            --success: #45B7D1; /* Blue */
            --green: #2ecc71;
            --dark: #2C3E50;
            --light: #F7F9FC;
            --white: #ffffff;
            --shadow: 0 8px 20px rgba(0,0,0,0.15);
            --card-radius: 20px;
        }

        * {
            box-sizing: border-box;
            user-select: none;
            -webkit-tap-highlight-color: transparent;
        }

        body {
            font-family: 'Fredoka', 'Comic Neue', sans-serif;
            background: linear-gradient(135deg, #FF9A9E 0%, #FECFEF 99%, #FECFEF 100%);
            margin: 0;
            padding: 0;
            color: var(--dark);
            overflow-x: hidden;
            padding-bottom: 60px; /* Space for footer */
        }

        /* 1Ô∏è‚É£ HEADER SECTION */
        header {
            background: var(--white);
            padding: 20px;
            text-align: center;
            border-bottom-left-radius: 30px;
            border-bottom-right-radius: 30px;
            box-shadow: var(--shadow);
            margin-bottom: 20px;
            position: relative;
            z-index: 10;
        }

        h1 {
            margin: 0;
            color: var(--secondary);
            font-size: 2rem;
            text-shadow: 2px 2px 0px #ffeaa7;
        }

        .subtitle {
            font-size: 1.1rem;
            color: var(--success);
            margin-top: 5px;
            font-family: 'Comic Neue', cursive;
            font-weight: bold;
        }

        /* 2Ô∏è‚É£ NOTES SECTION */
        .container {
            max-width: 800px;
            margin: 0 auto;
            padding: 0 15px;
        }

        .section-title {
            text-align: center;
            background: var(--accent);
            color: white;
            padding: 10px 20px;
            border-radius: 50px;
            display: inline-block;
            margin: 20px auto;
            font-size: 1.5rem;
            box-shadow: 0 4px 10px rgba(78, 205, 196, 0.4);
        }

        .notes-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 20px;
            margin-bottom: 40px;
        }

        .note-card {
            background: var(--white);
            padding: 20px;
            border-radius: var(--card-radius);
            box-shadow: var(--shadow);
            border: 3px solid transparent;
            transition: transform 0.3s ease;
        }

        .note-card:hover {
            transform: translateY(-5px);
        }

        .note-card.a-card { border-color: var(--secondary); }
        .note-card.an-card { border-color: var(--success); }
        .note-card.the-card { border-color: var(--primary); }

        .note-header {
            font-size: 1.5rem;
            font-weight: bold;
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .hinglish {
            font-size: 0.95rem;
            color: #666;
            background: #f0f0f0;
            padding: 8px;
            border-radius: 10px;
            margin-bottom: 10px;
            font-style: italic;
        }

        .examples {
            background: #fff8e1;
            padding: 10px;
            border-radius: 10px;
            margin-top: 10px;
        }

        .example-item {
            display: flex;
            align-items: center;
            gap: 10px;
            margin: 5px 0;
            font-size: 1.1rem;
        }

        /* üéØ PRACTICE & GAME SECTION UI */
        .game-panel {
            background: var(--white);
            border-radius: var(--card-radius);
            box-shadow: var(--shadow);
            padding: 20px;
            text-align: center;
            position: relative;
            overflow: hidden;
            min-height: 400px;
        }

        /* SCOREBOARD */
        .scoreboard {
            display: flex;
            justify-content: space-between;
            background: #2C3E50;
            color: white;
            padding: 10px 20px;
            border-radius: 50px;
            margin-bottom: 20px;
            font-weight: bold;
            position: sticky;
            top: 10px;
            z-index: 99;
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
        }

        .score-item { display: flex; align-items: center; gap: 5px; }

        /* QUESTION STYLES */
        .question-box {
            font-size: 2rem;
            margin: 20px 0;
            font-weight: bold;
            color: var(--dark);
        }

        .question-img {
            font-size: 4rem; /* Emoji size */
            display: block;
            margin: 10px auto;
            animation: bounce 2s infinite;
        }

        .options-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 15px;
            margin-top: 20px;
        }
        
        /* Special layout for True/False or Sentence Choice */
        .options-grid.two-col { grid-template-columns: repeat(2, 1fr); }
        .options-grid.one-col { grid-template-columns: 1fr; }

        .btn-option {
            background: var(--light);
            border: 3px solid #e0e0e0;
            border-radius: 15px;
            padding: 15px;
            font-size: 1.5rem;
            font-family: 'Fredoka', sans-serif;
            cursor: pointer;
            transition: all 0.2s;
            color: var(--dark);
        }

        .btn-option:hover { background: #fff; border-color: var(--accent); }
        .btn-option:active { transform: scale(0.95); }

        /* FEEDBACK STATES */
        .btn-option.correct {
            background: var(--green);
            color: white;
            border-color: var(--green);
            box-shadow: 0 0 20px var(--green);
            animation: popIn 0.3s;
        }

        .btn-option.wrong {
            background: var(--secondary);
            color: white;
            border-color: var(--secondary);
            animation: shake 0.5s;
        }

        /* üé≤ MINI GAME PICKER */
        #mini-game-area {
            display: none; /* Hidden by default */
        }
        
        .mode-switch {
            text-align: center;
            margin: 20px 0;
        }
        
        .mode-btn {
            background: var(--dark);
            color: white;
            border: none;
            padding: 10px 25px;
            border-radius: 30px;
            font-size: 1rem;
            cursor: pointer;
            margin: 0 10px;
        }
        
        .mode-btn.active {
            background: var(--primary);
            color: var(--dark);
            font-weight: bold;
            transform: scale(1.1);
        }

        /* ü¶∂ FOOTER */
        footer {
            background: var(--dark);
            color: white;
            text-align: center;
            padding: 15px;
            position: fixed;
            bottom: 0;
            width: 100%;
            font-size: 0.9rem;
            border-top-left-radius: 20px;
            border-top-right-radius: 20px;
            z-index: 100;
        }

        /* ANIMATIONS */
        @keyframes bounce {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-10px); }
        }

        @keyframes shake {
            0% { transform: translateX(0); }
            25% { transform: translateX(-10px); }
            50% { transform: translateX(10px); }
            75% { transform: translateX(-10px); }
            100% { transform: translateX(0); }
        }

        @keyframes popIn {
            0% { transform: scale(0.8); opacity: 0; }
            100% { transform: scale(1); opacity: 1; }
        }

        /* RESPONSIVE */
        @media (max-width: 600px) {
            h1 { font-size: 1.5rem; }
            .question-box { font-size: 1.5rem; }
            .btn-option { font-size: 1.2rem; padding: 12px; }
            .options-grid { gap: 10px; }
        }
        
        .result-overlay {
            position: absolute;
            top: 0; left: 0; right: 0; bottom: 0;
            background: rgba(255,255,255,0.95);
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            z-index: 50;
            display: none;
        }
        
        .big-star { font-size: 5rem; animation: popIn 1s; }
    </style>
</head>
<body>

    <header>
        <h1>Articles: A, An, The üçéüìò‚ú®</h1>
        <div class="subtitle">Small words for Naming Words</div>
    </header>

    <div class="container">
        
        <div class="notes-grid">
            <div class="note-card a-card">
                <div class="note-header" style="color: var(--secondary);">Article: A</div>
                <div class="hinglish">
                    üëâ Use before words starting with <b>Consonant Sound</b> (Vyanjan).
                    <br><small>(b, c, d, f, g, h, j, k...)</small>
                </div>
                <div class="examples">
                    <div class="example-item">üë¶ a boy</div>
                    <div class="example-item">üê± a cat</div>
                    <div class="example-item">‚úèÔ∏è a pen</div>
                </div>
            </div>

            <div class="note-card an-card">
                <div class="note-header" style="color: var(--success);">Article: An</div>
                <div class="hinglish">
                    üëâ Use before words starting with <b>Vowel Sound</b> (Swar).
                    <br><small>(a, e, i, o, u)</small>
                </div>
                <div class="examples">
                    <div class="example-item">üçé an apple</div>
                    <div class="example-item">üêò an elephant</div>
                    <div class="example-item">üçä an orange</div>
                </div>
            </div>

            <div class="note-card the-card">
                <div class="note-header" style="color: var(--primary);">Article: The</div>
                <div class="hinglish">
                    üëâ Use for <b>Special</b> or <b>Known</b> things (Khas cheez).
                    <br><small>(Only one in the world)</small>
                </div>
                <div class="examples">
                    <div class="example-item">‚òÄÔ∏è the sun</div>
                    <div class="example-item">üåô the moon</div>
                    <div class="example-item">üáÆüá≥ the Taj Mahal</div>
                </div>
            </div>
        </div>

        <div class="mode-switch">
            <button class="mode-btn active" onclick="switchMode('practice')">üìù Practice Quiz</button>
            <button class="mode-btn" onclick="switchMode('game')">üéÆ Picker Game</button>
        </div>

        <div id="quiz-area" class="game-panel">
            <div class="scoreboard">
                <div class="score-item">‚≠ê <span id="stars">0</span></div>
                <div class="score-item">‚úî <span id="correct">0</span></div>
                <div class="score-item">‚ùå <span id="wrong">0</span></div>
            </div>

            <div id="question-container">
                <div id="q-image" class="question-img"></div>
                <div id="q-text" class="question-box"></div>
                
                <div id="options-box" class="options-grid"></div>
            </div>

            <div style="margin-top: 20px; font-size: 0.8rem; color: #888;">
                Question: <span id="q-current">1</span> / <span id="q-total">70</span>
            </div>

            <div id="result-overlay" class="result-overlay">
                <div class="big-star">üèÜ</div>
                <h2>Great Job!</h2>
                <p>You finished the practice!</p>
                <p>Final Score: <span id="final-score">0</span>%</p>
                <button class="btn-option" style="background: var(--primary); margin-top: 20px;" onclick="restartQuiz()">Restart üîÑ</button>
            </div>
        </div>

        <div id="game-area" class="game-panel" style="display: none; background: #2C3E50;">
            <h2 style="color: white;">‚ö° Fast Picker Game! ‚ö°</h2>
            <div style="color: white; margin-bottom: 20px;">Tap the right article fast!</div>
            
            <div class="scoreboard" style="background: rgba(0,0,0,0.5);">
                <div class="score-item">üöÄ Score: <span id="game-score">0</span></div>
            </div>

            <div id="game-card" style="background: white; border-radius: 20px; padding: 20px; max-width: 400px; margin: 0 auto;">
                <div id="game-img" style="font-size: 5rem; animation: bounce 1.5s infinite;">üçé</div>
                <div id="game-word" style="font-size: 2rem; font-weight: bold; margin: 10px 0;">Apple</div>
                
                <div class="options-grid">
                    <button class="btn-option" onclick="handleGameClick('a', this)">A</button>
                    <button class="btn-option" onclick="handleGameClick('an', this)">An</button>
                    <button class="btn-option" onclick="handleGameClick('the', this)">The</button>
                </div>
            </div>
        </div>

    </div>

    <footer>
        Design & Created by SHRISHANT YADAV
    </footer>

    <script>
        // üìö QUESTION BANK (70 Unique Questions)
        // Types: 1=MCQ, 2=Picture, 3=Sentence, 4=True/False
        const questionBank = [
            // --- A (Consonants) ---
            { id: 1, type: 1, q: "___ cat", img: "üê±", a: "a", opts: ["a", "an", "the"] },
            { id: 2, type: 1, q: "___ ball", img: "‚öΩ", a: "a", opts: ["a", "an", "the"] },
            { id: 3, type: 1, q: "___ dog", img: "üê∂", a: "a", opts: ["a", "an", "the"] },
            { id: 4, type: 1, q: "___ fish", img: "üêü", a: "a", opts: ["a", "an", "the"] },
            { id: 5, type: 1, q: "___ house", img: "üè†", a: "a", opts: ["a", "an", "the"] },
            { id: 6, type: 1, q: "___ tree", img: "üå≥", a: "a", opts: ["a", "an", "the"] },
            { id: 7, type: 1, q: "___ car", img: "üöó", a: "a", opts: ["a", "an", "the"] },
            { id: 8, type: 1, q: "___ book", img: "üìò", a: "a", opts: ["a", "an", "the"] },
            { id: 9, type: 1, q: "___ kite", img: "ü™Å", a: "a", opts: ["a", "an", "the"] },
            { id: 10, type: 1, q: "___ mango", img: "ü•≠", a: "a", opts: ["a", "an", "the"] },
            { id: 11, type: 1, q: "___ pen", img: "üñäÔ∏è", a: "a", opts: ["a", "an", "the"] },
            { id: 12, type: 1, q: "___ zebra", img: "ü¶ì", a: "a", opts: ["a", "an", "the"] },
            { id: 13, type: 1, q: "___ rat", img: "üêÄ", a: "a", opts: ["a", "an", "the"] },
            { id: 14, type: 1, q: "___ table", img: "ü™ë", a: "a", opts: ["a", "an", "the"] },
            { id: 15, type: 1, q: "___ flower", img: "üåª", a: "a", opts: ["a", "an", "the"] },
            { id: 16, type: 1, q: "___ boy", img: "üë¶", a: "a", opts: ["a", "an", "the"] },
            { id: 17, type: 1, q: "___ girl", img: "üëß", a: "a", opts: ["a", "an", "the"] },
            { id: 18, type: 1, q: "___ school", img: "üè´", a: "a", opts: ["a", "an", "the"] },
            { id: 19, type: 1, q: "___ park", img: "üé°", a: "a", opts: ["a", "an", "the"] },
            { id: 20, type: 1, q: "___ bus", img: "üöå", a: "a", opts: ["a", "an", "the"] },

            // --- An (Vowels) ---
            { id: 21, type: 1, q: "___ apple", img: "üçé", a: "an", opts: ["a", "an", "the"] },
            { id: 22, type: 1, q: "___ elephant", img: "üêò", a: "an", opts: ["a", "an", "the"] },
            { id: 23, type: 1, q: "___ ice cream", img: "üç¶", a: "an", opts: ["a", "an", "the"] },
            { id: 24, type: 1, q: "___ owl", img: "ü¶â", a: "an", opts: ["a", "an", "the"] },
            { id: 25, type: 1, q: "___ umbrella", img: "‚òÇÔ∏è", a: "an", opts: ["a", "an", "the"] },
            { id: 26, type: 1, q: "___ egg", img: "ü•ö", a: "an", opts: ["a", "an", "the"] },
            { id: 27, type: 1, q: "___ orange", img: "üçä", a: "an", opts: ["a", "an", "the"] },
            { id: 28, type: 1, q: "___ ant", img: "üêú", a: "an", opts: ["a", "an", "the"] },
            { id: 29, type: 1, q: "___ eye", img: "üëÅÔ∏è", a: "an", opts: ["a", "an", "the"] },
            { id: 30, type: 1, q: "___ ear", img: "üëÇ", a: "an", opts: ["a", "an", "the"] },
            { id: 31, type: 1, q: "___ inkpot", img: "‚úíÔ∏è", a: "an", opts: ["a", "an", "the"] },
            { id: 32, type: 1, q: "___ airplane", img: "‚úàÔ∏è", a: "an", opts: ["a", "an", "the"] },
            { id: 33, type: 1, q: "___ engine", img: "üöÇ", a: "an", opts: ["a", "an", "the"] },
            { id: 34, type: 1, q: "___ igloo", img: "‚ùÑÔ∏è", a: "an", opts: ["a", "an", "the"] },
            { id: 35, type: 1, q: "___ ox", img: "üêÇ", a: "an", opts: ["a", "an", "the"] },
            { id: 36, type: 1, q: "___ insect", img: "üêû", a: "an", opts: ["a", "an", "the"] },
            { id: 37, type: 1, q: "___ arm", img: "üí™", a: "an", opts: ["a", "an", "the"] },
            { id: 38, type: 1, q: "___ axe", img: "ü™ì", a: "an", opts: ["a", "an", "the"] },
            { id: 39, type: 1, q: "___ arrow", img: "üèπ", a: "an", opts: ["a", "an", "the"] },
            { id: 40, type: 1, q: "___ onion", img: "üßÖ", a: "an", opts: ["a", "an", "the"] },

            // --- The (Specifics) ---
            { id: 41, type: 1, q: "___ sun", img: "‚òÄÔ∏è", a: "the", opts: ["a", "an", "the"] },
            { id: 42, type: 1, q: "___ moon", img: "üåô", a: "the", opts: ["a", "an", "the"] },
            { id: 43, type: 1, q: "___ sky", img: "‚òÅÔ∏è", a: "the", opts: ["a", "an", "the"] },
            { id: 44, type: 1, q: "___ earth", img: "üåç", a: "the", opts: ["a", "an", "the"] },
            { id: 45, type: 1, q: "___ Taj Mahal", img: "üïå", a: "the", opts: ["a", "an", "the"] },
            { id: 46, type: 1, q: "___ world", img: "üó∫Ô∏è", a: "the", opts: ["a", "an", "the"] },
            { id: 47, type: 1, q: "___ Red Fort", img: "üè∞", a: "the", opts: ["a", "an", "the"] },
            { id: 48, type: 1, q: "___ stars", img: "‚ú®", a: "the", opts: ["a", "an", "the"] },
            { id: 49, type: 1, q: "___ Himalayas", img: "üèîÔ∏è", a: "the", opts: ["a", "an", "the"] },
            { id: 50, type: 1, q: "___ Ganga river", img: "üåä", a: "the", opts: ["a", "an", "the"] },

            // --- Sentence Choice ---
            { id: 51, type: 3, q: "Choose correct sentence:", img: "üêò", a: "An elephant is big", opts: ["A elephant is big", "An elephant is big"] },
            { id: 52, type: 3, q: "Choose correct sentence:", img: "‚òÄÔ∏è", a: "The sun is hot", opts: ["A sun is hot", "The sun is hot"] },
            { id: 53, type: 3, q: "Choose correct sentence:", img: "üê±", a: "A cat says meow", opts: ["A cat says meow", "An cat says meow"] },
            { id: 54, type: 3, q: "Choose correct sentence:", img: "üçé", a: "I eat an apple", opts: ["I eat a apple", "I eat an apple"] },
            { id: 55, type: 3, q: "Choose correct sentence:", img: "ü¶â", a: "Look at the owl", opts: ["Look at a owl", "Look at the owl"] },
            
            // --- Mixed Bag / Context ---
            { id: 56, type: 1, q: "I saw ___ old man.", img: "üë¥", a: "an", opts: ["a", "an", "the"] },
            { id: 57, type: 1, q: "___ cup is red.", img: "‚òï", a: "the", opts: ["a", "an", "the"] }, // Specific cup context
            { id: 58, type: 1, q: "He has ___ bat.", img: "üèè", a: "a", opts: ["a", "an", "the"] },
            { id: 59, type: 1, q: "She has ___ doll.", img: "üéé", a: "a", opts: ["a", "an", "the"] },
            { id: 60, type: 1, q: "I want ___ orange.", img: "üçä", a: "an", opts: ["a", "an", "the"] },

            // --- True / False (Is this correct?) ---
            { id: 61, type: 4, q: "Is this correct? 'A Apple'", img: "‚ùå", a: "Wrong", opts: ["Correct", "Wrong"] },
            { id: 62, type: 4, q: "Is this correct? 'An Egg'", img: "‚úî", a: "Correct", opts: ["Correct", "Wrong"] },
            { id: 63, type: 4, q: "Is this correct? 'A Boy'", img: "‚úî", a: "Correct", opts: ["Correct", "Wrong"] },
            { id: 64, type: 4, q: "Is this correct? 'An Car'", img: "‚ùå", a: "Wrong", opts: ["Correct", "Wrong"] },
            { id: 65, type: 4, q: "Is this correct? 'The Sun'", img: "‚úî", a: "Correct", opts: ["Correct", "Wrong"] },
            
            // --- Fill Blanks Context ---
            { id: 66, type: 1, q: "Please give me ___ pen.", img: "üñäÔ∏è", a: "a", opts: ["a", "an", "the"] },
            { id: 67, type: 1, q: "___ moon is white.", img: "üåô", a: "the", opts: ["a", "an", "the"] },
            { id: 68, type: 1, q: "This is ___ eagle.", img: "ü¶Ö", a: "an", opts: ["a", "an", "the"] },
            { id: 69, type: 1, q: "That is ___ big box.", img: "üì¶", a: "a", opts: ["a", "an", "the"] },
            { id: 70, type: 1, q: "___ dog is barking.", img: "üêï", a: "the", opts: ["a", "an", "the"] } // Specific dog context
        ];

        // üß† GAME VARIABLES
        let currentQIndex = 0;
        let scoreCorrect = 0;
        let scoreWrong = 0;
        let stars = 0;
        let shuffledQuestions = [];
        let isAnswering = false;

        // üéÆ MINI GAME VARIABLES
        let gameScore = 0;
        const miniGameWords = [
            {w:"Ant", i:"üêú", a:"an"}, {w:"Bus", i:"üöå", a:"a"}, {w:"Sun", i:"‚òÄÔ∏è", a:"the"},
            {w:"Ox", i:"üêÇ", a:"an"}, {w:"Star", i:"‚≠ê", a:"a"}, {w:"Earth", i:"üåç", a:"the"},
            {w:"Box", i:"üì¶", a:"a"}, {w:"Ear", i:"üëÇ", a:"an"}, {w:"Cat", i:"üê±", a:"a"},
            {w:"Egg", i:"ü•ö", a:"an"}
        ];

        // üõ†Ô∏è INITIALIZATION
        window.onload = function() {
            initQuiz();
        };

        function switchMode(mode) {
            document.querySelectorAll('.mode-btn').forEach(b => b.classList.remove('active'));
            if(mode === 'practice') {
                document.getElementById('quiz-area').style.display = 'block';
                document.getElementById('game-area').style.display = 'none';
                document.querySelector('button[onclick="switchMode(\'practice\')"]').classList.add('active');
            } else {
                document.getElementById('quiz-area').style.display = 'none';
                document.getElementById('game-area').style.display = 'block';
                document.querySelector('button[onclick="switchMode(\'game\')"]').classList.add('active');
                loadMiniGameRound();
            }
        }

        // üìù QUIZ LOGIC
        function initQuiz() {
            shuffledQuestions = [...questionBank].sort(() => 0.5 - Math.random());
            currentQIndex = 0;
            scoreCorrect = 0;
            scoreWrong = 0;
            stars = 0;
            updateScoreBoard();
            loadQuestion();
            document.getElementById('result-overlay').style.display = 'none';
        }

        function loadQuestion() {
            if (currentQIndex >= shuffledQuestions.length) {
                showResults();
                return;
            }

            const q = shuffledQuestions[currentQIndex];
            const qContainer = document.getElementById('question-container');
            const optsBox = document.getElementById('options-box');
            
            // Update Text & Image
            document.getElementById('q-image').innerText = q.img || '';
            document.getElementById('q-text').innerText = q.q;
            document.getElementById('q-current').innerText = currentQIndex + 1;

            // Setup Options
            optsBox.innerHTML = '';
            // Determine grid layout based on option count
            optsBox.className = 'options-grid';
            if(q.opts.length === 2) optsBox.classList.add('two-col');

            q.opts.forEach(opt => {
                const btn = document.createElement('button');
                btn.className = 'btn-option';
                btn.innerText = opt;
                btn.onclick = () => checkAnswer(btn, opt, q.a);
                optsBox.appendChild(btn);
            });

            isAnswering = true;
        }

        function checkAnswer(btn, selected, correct) {
            if (!isAnswering) return;
            isAnswering = false;

            const buttons = document.querySelectorAll('#options-box .btn-option');
            
            if (selected.toLowerCase() === correct.toLowerCase()) {
                // Correct
                btn.classList.add('correct');
                scoreCorrect++;
                stars += 1; // 1 star per correct
                playSound('correct');
            } else {
                // Wrong
                btn.classList.add('wrong');
                scoreWrong++;
                playSound('wrong');
                // Highlight correct one
                buttons.forEach(b => {
                    if (b.innerText.toLowerCase() === correct.toLowerCase()) {
                        setTimeout(() => b.classList.add('correct'), 200);
                    }
                });
            }

            updateScoreBoard();

            // Auto Next
            setTimeout(() => {
                currentQIndex++;
                loadQuestion();
            }, 1200);
        }

        function updateScoreBoard() {
            document.getElementById('correct').innerText = scoreCorrect;
            document.getElementById('wrong').innerText = scoreWrong;
            document.getElementById('stars').innerText = stars;
        }

        function showResults() {
            const percentage = Math.round((scoreCorrect / 70) * 100);
            document.getElementById('final-score').innerText = percentage;
            document.getElementById('result-overlay').style.display = 'flex';
        }

        function restartQuiz() {
            initQuiz();
        }

        // üé≤ MINI GAME LOGIC
        function loadMiniGameRound() {
            const randomItem = miniGameWords[Math.floor(Math.random() * miniGameWords.length)];
            document.getElementById('game-img').innerText = randomItem.i;
            document.getElementById('game-word').innerText = "___ " + randomItem.w;
            document.getElementById('game-card').dataset.answer = randomItem.a;
        }

        function handleGameClick(choice, btn) {
            const correctAnswer = document.getElementById('game-card').dataset.answer;
            
            if(choice === correctAnswer) {
                gameScore++;
                document.getElementById('game-score').innerText = gameScore;
                btn.style.background = "#2ecc71"; // Green
                setTimeout(() => {
                    btn.style.background = ""; 
                    loadMiniGameRound();
                }, 400);
            } else {
                btn.style.background = "#FF6B6B"; // Red
                setTimeout(() => {
                    btn.style.background = ""; 
                }, 400);
            }
        }

        // üîä SOUND EFFECTS (Simulated visual feedback mainly, minimal audio if needed, kept silent for safety/autoplay restrictions, utilizing CSS visuals primarily)
        function playSound(type) {
            // Placeholder for audio. We rely on Visual Cues (Green/Red/Shake) as per Class 1 constraints to avoid jarring noises.
        }

    </script>
</body>
</html>