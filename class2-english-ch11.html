<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Chapter 11: Writing Skills | Class 2 English</title>
    <style>
        /* üé® THEME: My Notebook */
        :root {
            --paper-color: #fff9c4;   /* Pale Yellow Paper */
            --line-color: #a29bfe;    /* Notebook Lines */
            --primary: #FF6B6B;       /* Coral Red */
            --secondary: #4834d4;     /* Ink Blue */
            --accent: #6ab04c;        /* Pencil Green */
            --text: #2d3436;
            --font: 'Comic Sans MS', 'Comic Neue', cursive, sans-serif;
            --radius: 15px;
            --shadow: 0 5px 10px rgba(0,0,0,0.1);
        }

        * { box-sizing: border-box; user-select: none; -webkit-tap-highlight-color: transparent; }

        body {
            font-family: var(--font);
            background-color: #dfe6e9;
            color: var(--text);
            margin: 0;
            padding: 0;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
        }

        /* üü¢ HEADER */
        header {
            background: var(--secondary);
            color: white;
            padding: 15px;
            text-align: center;
            border-bottom: 5px solid #30336b;
            box-shadow: 0 4px 10px rgba(0,0,0,0.2);
            position: sticky;
            top: 0;
            z-index: 100;
        }

        h1 { margin: 0; font-size: 1.6rem; text-shadow: 2px 2px 0 rgba(0,0,0,0.3); }
        .subtitle { font-size: 0.9rem; margin-top: 5px; opacity: 0.9; }

        /* üß≠ CONTAINER */
        .container {
            flex: 1;
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
            width: 100%;
        }

        /* üÉè MENU GRID */
        .menu-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));
            gap: 15px;
        }

        .menu-card {
            background: white;
            border-radius: var(--radius);
            padding: 20px;
            text-align: center;
            border: 4px solid transparent;
            box-shadow: var(--shadow);
            cursor: pointer;
            transition: transform 0.2s;
            position: relative;
        }
        
        .menu-card:active { transform: scale(0.96); }
        .menu-card h3 { margin: 10px 0 0; color: var(--text); font-size: 1.1rem; }
        .icon { font-size: 2.5rem; display: block; margin-bottom: 5px; }

        /* Section Themes */
        .c-word { border-bottom: 5px solid #f0932b; }
        .c-sent { border-bottom: 5px solid #eb4d4b; }
        .c-para { border-bottom: 5px solid #6ab04c; }
        .c-pic { border-bottom: 5px solid #be2edd; }
        .c-story { border-bottom: 5px solid #22a6b3; }

        /* üìù WRITING AREA STYLES */
        .notebook-page {
            background: var(--paper-color);
            padding: 25px;
            border-radius: 5px;
            box-shadow: 2px 2px 10px rgba(0,0,0,0.1);
            border-left: 6px solid #e55039; /* Margin line */
            min-height: 300px;
            position: relative;
            background-image: repeating-linear-gradient(transparent, transparent 31px, #a29bfe 31px, #a29bfe 32px);
            line-height: 32px;
        }

        .task-box {
            background: white;
            padding: 15px;
            border-radius: 15px;
            border: 2px solid var(--secondary);
            margin-bottom: 20px;
            text-align: center;
        }

        .hint-text { color: #666; font-size: 0.9rem; margin-bottom: 10px; display: block; }

        input[type="text"], textarea {
            width: 100%;
            padding: 10px;
            font-size: 1.2rem;
            font-family: var(--font);
            border: 2px solid #aaa;
            border-radius: 10px;
            outline: none;
            background: rgba(255, 255, 255, 0.8);
        }
        
        input:focus, textarea:focus { border-color: var(--secondary); background: #fff; }

        textarea {
            height: 150px;
            line-height: 1.5;
            resize: none;
        }

        /* ü¶∏‚Äç‚ôÇÔ∏è SMART CHECK FEEDBACK */
        .feedback-box {
            margin-top: 15px;
            padding: 15px;
            border-radius: 10px;
            display: none;
            text-align: center;
            font-weight: bold;
        }
        .fb-good { background: #dff9fb; color: #22a6b3; border: 2px solid #22a6b3; }
        .fb-bad { background: #ffcccc; color: #b33939; border: 2px solid #b33939; }
        .fb-tips { font-size: 0.9rem; font-weight: normal; margin-top: 5px; color: #555; }

        /* BUTTONS */
        .action-btn {
            background: var(--secondary);
            color: white;
            border: none;
            padding: 12px 25px;
            border-radius: 50px;
            font-size: 1rem;
            font-family: var(--font);
            cursor: pointer;
            margin-top: 10px;
            box-shadow: 0 4px 0 #30336b;
            width: 100%;
        }
        .action-btn:active { transform: translateY(4px); box-shadow: none; }
        .audio-icon { cursor: pointer; font-size: 1.5rem; vertical-align: middle; margin-left: 10px; }

        /* üñºÔ∏è EMOJI SCENE (For Picture Comp) */
        .emoji-scene {
            font-size: 4rem;
            background: #e1f5fe;
            border-radius: 15px;
            padding: 20px;
            text-align: center;
            margin-bottom: 15px;
            border: 2px dashed #0288d1;
        }

        /* UTILS */
        .hidden { display: none; }
        .back-btn { background: none; border: 2px solid #555; padding: 5px 15px; border-radius: 20px; cursor: pointer; margin-bottom: 15px; }
        
        /* FOOTER */
        .footer {
            background: white; text-align: center; padding: 10px;
            margin-top: auto; font-size: 0.8rem; color: #888;
        }

    </style>
</head>
<body>

    <header>
        <h1>‚úèÔ∏è Writing Skills</h1>
        <div class="subtitle">Think, Write & Check!</div>
    </header>

    <div class="container">
        
        <div id="menu-screen">
            <div style="background:white; padding:15px; border-radius:15px; border-left:6px solid var(--primary); margin-bottom:20px;">
                <b>üëã Hello Writer!</b> Writing helps us share our stories. Pick a notebook to start! üìò
            </div>

            <div class="menu-grid">
                <div class="menu-card c-word" onclick="loadSection('words')">
                    <span class="icon">üî§</span>
                    <h3>Word Power</h3>
                    <small>Spelling & Letters</small>
                </div>
                <div class="menu-card c-sent" onclick="loadSection('sentences')">
                    <span class="icon">üìù</span>
                    <h3>Sentences</h3>
                    <small>Make & Correct</small>
                </div>
                <div class="menu-card c-para" onclick="loadSection('paragraph')">
                    <span class="icon">üìÑ</span>
                    <h3>Paragraphs</h3>
                    <small>My School, My Family</small>
                </div>
                <div class="menu-card c-pic" onclick="loadSection('picture')">
                    <span class="icon">üñºÔ∏è</span>
                    <h3>Picture Story</h3>
                    <small>Look & Write</small>
                </div>
                <div class="menu-card c-story" onclick="loadSection('story')">
                    <span class="icon">üöÄ</span>
                    <h3>Story Creator</h3>
                    <small>Creative Writing</small>
                </div>
            </div>
        </div>

        <div id="sec-words" class="hidden">
            <button class="back-btn" onclick="goHome()">üè† Home</button>
            <div class="task-box">
                <h2 id="w-emoji" style="font-size:3rem; margin:0;">üê±</h2>
                <p>Complete the word:</p>
                <h3 id="w-hint" style="letter-spacing: 5px;">_ A T</h3>
            </div>
            <input type="text" id="w-input" placeholder="Type the full word here..." autocomplete="off">
            <button class="action-btn" onclick="checkWord()">Check Spelling ‚úÖ</button>
            <div id="w-feedback" class="feedback-box"></div>
            <button id="w-next" class="action-btn hidden" style="background:var(--accent)" onclick="nextWord()">Next Word ‚û°Ô∏è</button>
        </div>

        <div id="sec-sentences" class="hidden">
            <button class="back-btn" onclick="goHome()">üè† Home</button>
            <div class="task-box">
                <span onclick="speakHint('s-hint')" class="audio-icon">üîä</span>
                <p>Make a correct sentence:</p>
                <div id="s-jumble" style="background:#eee; padding:10px; border-radius:10px; font-weight:bold; color:#444;">is / blue / sky / The</div>
            </div>
            <input type="text" id="s-input" placeholder="Type correct sentence..." autocomplete="off">
            <div class="hint-text">üí° Start with Capital letter, end with Full stop.</div>
            <button class="action-btn" onclick="checkSentence()">Check Sentence ‚úÖ</button>
            <div id="s-feedback" class="feedback-box"></div>
            <button id="s-next" class="action-btn hidden" style="background:var(--accent)" onclick="nextSentence()">Next Sentence ‚û°Ô∏è</button>
        </div>

        <div id="sec-paragraph" class="hidden">
            <button class="back-btn" onclick="goHome()">üè† Home</button>
            <div style="margin-bottom:15px;">
                <label><b>Choose a Topic:</b></label>
                <select id="p-topic" style="padding:5px; font-size:1rem; border-radius:5px;" onchange="updatePrompt()">
                    <option value="My School">My School üè´</option>
                    <option value="My Family">My Family üë®‚Äçüë©‚Äçüëß</option>
                    <option value="My Best Friend">My Best Friend üë´</option>
                </select>
            </div>
            
            <div class="notebook-page">
                <p id="p-prompt" style="color:#e55039; font-weight:bold; margin-top:0;">Write 3-5 lines about your school...</p>
                <textarea id="p-input" placeholder="Start writing here..."></textarea>
            </div>
            
            <button class="action-btn" onclick="smartCheck('p-input', 'p-feedback', 3)">Check My Paragraph ‚úÖ</button>
            <div id="p-feedback" class="feedback-box"></div>
        </div>

        <div id="sec-picture" class="hidden">
            <button class="back-btn" onclick="goHome()">üè† Home</button>
            
            <div id="pic-scene" class="emoji-scene">üå≥ ‚òÄÔ∏è üêï üë¶ ‚öΩ</div>
            <div style="text-align:center; margin-bottom:10px;">
                <span class="hint-text">Hints: Park, Sun, Dog, Boy, Ball, Playing</span>
            </div>

            <div class="notebook-page">
                <textarea id="pic-input" placeholder="Look at the picture and write 4-5 sentences..."></textarea>
            </div>

            <button class="action-btn" onclick="smartCheck('pic-input', 'pic-feedback', 4)">Check Picture Story ‚úÖ</button>
            <div id="pic-feedback" class="feedback-box"></div>
            <button class="action-btn" style="background:#555; margin-top:10px;" onclick="nextPicture()">New Picture üîÑ</button>
        </div>

        <div id="sec-story" class="hidden">
            <button class="back-btn" onclick="goHome()">üè† Home</button>
            
            <div class="task-box" style="background:#fff3cd; border-color:#ffc107;">
                <h3>Story Starter üöÄ</h3>
                <p id="st-prompt" style="font-size:1.1rem; font-style:italic;">"One day, I found a magic key..."</p>
                <button onclick="newStoryPrompt()" style="font-size:0.8rem; padding:5px; cursor:pointer;">Change Topic üé≤</button>
            </div>

            <div class="notebook-page">
                <textarea id="st-input" placeholder="Complete the story..." style="height:200px;"></textarea>
            </div>
            
            <button class="action-btn" onclick="smartCheck('st-input', 'st-feedback', 5)">Check My Story ‚úÖ</button>
            <div id="st-feedback" class="feedback-box"></div>
        </div>

    </div>

    <div class="footer">
        Designed & Created by SHRISHANT YADAV
    </div>

<script>
    /* üõ†Ô∏è DATA STORAGE */
    
    // 1. WORDS DATA
    const wordsData = [
        { missing: "_ A T", full: "cat", emoji: "üê±" },
        { missing: "D _ G", full: "dog", emoji: "üê∂" },
        { missing: "S _ N", full: "sun", emoji: "‚òÄÔ∏è" },
        { missing: "B _ L L", full: "ball", emoji: "‚öΩ" },
        { missing: "F _ S H", full: "fish", emoji: "üêü" },
        { missing: "B _ O K", full: "book", emoji: "üìò" },
        { missing: "T R _ E", full: "tree", emoji: "üå≥" },
        { missing: "H O _ S E", full: "house", emoji: "üè†" },
        { missing: "A P P _ E", full: "apple", emoji: "üçé" },
        { missing: "C _ R", full: "car", emoji: "üöó" },
        { missing: "B I _ D", full: "bird", emoji: "üê¶" },
        { missing: "M O _ N", full: "moon", emoji: "üåô" },
        { missing: "S T _ R", full: "star", emoji: "‚≠ê" },
        { missing: "K _ T E", full: "kite", emoji: "ü™Å" },
        { missing: "L I _ N", full: "lion", emoji: "ü¶Å" }
    ];

    // 2. SENTENCES DATA
    const sentenceData = [
        { jumbled: "is / blue / sky / The", correct: "The sky is blue." },
        { jumbled: "am / a / I / boy", correct: "I am a boy." },
        { jumbled: "likes / She / apples", correct: "She likes apples." },
        { jumbled: "play / We / football", correct: "We play football." },
        { jumbled: "is / hot / sun / The", correct: "The sun is hot." },
        { jumbled: "my / This / is / school", correct: "This is my school." },
        { jumbled: "love / I / mom / my", correct: "I love my mom." },
        { jumbled: "cat / is / The / sleeping", correct: "The cat is sleeping." },
        { jumbled: "birds / The / fly", correct: "The birds fly." },
        { jumbled: "has / He / a / pen", correct: "He has a pen." },
        { jumbled: "are / We / happy", correct: "We are happy." },
        { jumbled: "drink / I / milk", correct: "I drink milk." },
        { jumbled: "big / is / Elephant", correct: "Elephant is big." },
        { jumbled: "go / I / to / school", correct: "I go to school." },
        { jumbled: "red / is / rose / The", correct: "The rose is red." }
    ];

    // 3. PICTURE SCENES
    const picScenes = [
        { emoji: "üå≥ ‚òÄÔ∏è üêï üë¶ ‚öΩ", hint: "Park, Sun, Dog, Boy, Ball" },
        { emoji: "üè´ üéí üëß üìö ‚úèÔ∏è", hint: "School, Bag, Girl, Books, Study" },
        { emoji: "üéÇ üéà üéÅ ü•≥ üïØÔ∏è", hint: "Birthday, Cake, Gifts, Party, Fun" },
        { emoji: "üåßÔ∏è ‚òî üê∏ üåà üë¢", hint: "Rain, Umbrella, Frog, Rainbow, Wet" },
        { emoji: "ü¶Å ü¶ì üêò üå¥ üêí", hint: "Jungle, Lion, Elephant, Trees, Animals" },
        { emoji: "üèñÔ∏è üåä ü¶Ä üç¶ üè∞", hint: "Beach, Sea, Crab, Ice cream, Sandcastle" },
        { emoji: "üë®‚Äçüë©‚Äçüëß‚Äçüë¶ üè† üç≤ üì∫ ‚ù§Ô∏è", hint: "Family, House, Dinner, TV, Love" },
        { emoji: "üêÆ üöú üåæ üêî üêë", hint: "Farm, Tractor, Hen, Sheep, Grass" },
        { emoji: "üöÄ üåô üëΩ ‚≠ê üõ∏", hint: "Space, Moon, Alien, Stars, Rocket" },
        { emoji: "üéÖ üéÑ ‚õÑ ‚ùÑÔ∏è ü¶å", hint: "Christmas, Tree, Snowman, Cold, Deer" }
    ];

    // 4. STORY STARTERS
    const storyStarters = [
        "One day, I found a magic key...",
        "I saw a friendly lion in the park...",
        "My dog started talking to me...",
        "I built a rocket in my backyard...",
        "The best day of my life was...",
        "If I could fly like a bird...",
        "My secret friend is an alien...",
        "Once upon a time, there was a tiny giant...",
        "I opened the box and saw...",
        "My shoes are magical because..."
    ];

    /* üéÆ STATE & LOGIC */
    let currentWordIndex = 0;
    let currentSentIndex = 0;
    let currentPicIndex = 0;

    // AUDIO
    function speak(text) {
        window.speechSynthesis.cancel();
        const msg = new SpeechSynthesisUtterance(text);
        msg.lang = 'en-US';
        msg.rate = 0.9;
        window.speechSynthesis.speak(msg);
    }
    
    function speakHint(id) {
        let text = document.getElementById(id).innerText; // Use hidden text or hints
        // For sentence section, hint is generic
        speak("Start with a Capital letter and end with a full stop.");
    }

    // NAVIGATION
    function goHome() {
        const sections = ['sec-words', 'sec-sentences', 'sec-paragraph', 'sec-picture', 'sec-story'];
        sections.forEach(id => document.getElementById(id).classList.add('hidden'));
        document.getElementById('menu-screen').classList.remove('hidden');
    }

    function loadSection(type) {
        document.getElementById('menu-screen').classList.add('hidden');
        
        if (type === 'words') {
            document.getElementById('sec-words').classList.remove('hidden');
            loadWord();
        } else if (type === 'sentences') {
            document.getElementById('sec-sentences').classList.remove('hidden');
            loadSentence();
        } else if (type === 'paragraph') {
            document.getElementById('sec-paragraph').classList.remove('hidden');
            updatePrompt();
        } else if (type === 'picture') {
            document.getElementById('sec-picture').classList.remove('hidden');
            loadPicture();
        } else if (type === 'story') {
            document.getElementById('sec-story').classList.remove('hidden');
            newStoryPrompt();
        }
    }

    // --- WORD LOGIC ---
    function loadWord() {
        const w = wordsData[currentWordIndex];
        document.getElementById('w-emoji').innerText = w.emoji;
        document.getElementById('w-hint').innerText = w.missing;
        document.getElementById('w-input').value = "";
        document.getElementById('w-feedback').style.display = 'none';
        document.getElementById('w-next').classList.add('hidden');
    }

    function checkWord() {
        const userVal = document.getElementById('w-input').value.trim().toLowerCase();
        const correctVal = wordsData[currentWordIndex].full;
        const fb = document.getElementById('w-feedback');

        if (userVal === correctVal) {
            fb.className = "feedback-box fb-good";
            fb.innerText = "üåü Correct! Good Spelling!";
            fb.style.display = "block";
            document.getElementById('w-next').classList.remove('hidden');
            speak("Correct! " + correctVal);
        } else {
            fb.className = "feedback-box fb-bad";
            fb.innerText = "‚ùå Try Again. Check spelling.";
            fb.style.display = "block";
        }
    }

    function nextWord() {
        currentWordIndex = (currentWordIndex + 1) % wordsData.length;
        loadWord();
    }

    // --- SENTENCE LOGIC ---
    function loadSentence() {
        const s = sentenceData[currentSentIndex];
        document.getElementById('s-jumble').innerText = s.jumbled;
        document.getElementById('s-input').value = "";
        document.getElementById('s-feedback').style.display = 'none';
        document.getElementById('s-next').classList.add('hidden');
    }

    function checkSentence() {
        let userVal = document.getElementById('s-input').value.trim();
        const correctVal = sentenceData[currentSentIndex].correct;
        const fb = document.getElementById('s-feedback');
        
        // Remove extra spaces user might type
        userVal = userVal.replace(/\s+/g, ' ');

        if (userVal === correctVal) {
            fb.className = "feedback-box fb-good";
            fb.innerText = "‚ú® Excellent Sentence!";
            fb.style.display = "block";
            document.getElementById('s-next').classList.remove('hidden');
            speak("Great job!");
        } else {
            // Smart hints for sentence
            let msg = "‚ùå Not quite right.";
            if (userVal.toLowerCase() === correctVal.toLowerCase()) {
                msg = "‚ùå Check Capital letters!";
            } else if (!userVal.endsWith('.')) {
                msg = "‚ùå Don't forget the full stop (.)";
            } else {
                msg = "‚ùå Words are not in correct order.";
            }
            
            fb.className = "feedback-box fb-bad";
            fb.innerHTML = msg + "<div class='fb-tips'>Try: " + correctVal + "</div>";
            fb.style.display = "block";
        }
    }

    function nextSentence() {
        currentSentIndex = (currentSentIndex + 1) % sentenceData.length;
        loadSentence();
    }

    // --- PARAGRAPH LOGIC ---
    function updatePrompt() {
        const topic = document.getElementById('p-topic').value;
        document.getElementById('p-prompt').innerText = "Write 3-5 lines about " + topic + "...";
        document.getElementById('p-input').value = "";
        document.getElementById('p-feedback').style.display = 'none';
    }

    // --- PICTURE LOGIC ---
    function loadPicture() {
        const p = picScenes[currentPicIndex];
        document.getElementById('pic-scene').innerText = p.emoji;
        document.querySelector('#sec-picture .hint-text').innerText = "Hints: " + p.hint;
        document.getElementById('pic-input').value = "";
        document.getElementById('pic-feedback').style.display = 'none';
    }

    function nextPicture() {
        currentPicIndex = (currentPicIndex + 1) % picScenes.length;
        loadPicture();
    }

    // --- STORY LOGIC ---
    function newStoryPrompt() {
        const r = Math.floor(Math.random() * storyStarters.length);
        document.getElementById('st-prompt').innerText = '"' + storyStarters[r] + '"';
        document.getElementById('st-input').value = "";
        document.getElementById('st-feedback').style.display = 'none';
    }

    // üß† SMART CHECK ENGINE (The AI Logic)
    function smartCheck(inputId, feedbackId, minSentences) {
        const text = document.getElementById(inputId).value.trim();
        const fb = document.getElementById(feedbackId);
        
        if (text.length < 5) {
            fb.className = "feedback-box fb-bad";
            fb.innerText = "‚ùå Please write something first!";
            fb.style.display = "block";
            return;
        }

        let errors = [];
        let tips = [];
        let score = 0;

        // 1. Check Sentences Count (Roughly by dots)
        const sentences = text.split(/[.!?]+/).filter(s => s.trim().length > 0);
        if (sentences.length < minSentences) {
            errors.push("Write more lines.");
            tips.push(`Try to write at least ${minSentences} sentences.`);
        } else {
            score++;
        }

        // 2. Check Capitalization of first letter
        if (text[0] !== text[0].toUpperCase()) {
            errors.push("Start with a Capital letter.");
        } else {
            score++;
        }

        // 3. Check Ending Punctuation
        const lastChar = text.charAt(text.length - 1);
        if (!['.', '!', '?'].includes(lastChar)) {
            errors.push("End with a full stop.");
        } else {
            score++;
        }

        // 4. Check for 'i' (lowercase I)
        if (/\bi\b/.test(text)) {
            errors.push("Always write 'I' in capital.");
        }

        // GENERATE FEEDBACK
        if (errors.length === 0) {
            // Perfect
            let reward = "ü•á Story Star!";
            if(score < 3) reward = "ü•à Great Writer!";
            
            fb.className = "feedback-box fb-good";
            fb.innerHTML = `<div>${reward}</div><div class='fb-tips'>Your writing is clear and correct. Well done! üéâ</div>`;
            speak("Excellent writing!");
        } else {
            // Needs work
            fb.className = "feedback-box fb-bad";
            let errorHtml = errors.map(e => `<div>‚ùå ${e}</div>`).join("");
            let tipHtml = tips.length > 0 ? `<div class='fb-tips'>üí° ${tips[0]}</div>` : "";
            
            fb.innerHTML = `<div>Keep Trying!</div><div style='text-align:left; margin-top:5px;'>${errorHtml}</div>${tipHtml}`;
        }
        fb.style.display = "block";
    }

</script>

</body>
</html>