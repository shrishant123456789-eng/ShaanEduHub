<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Fractions | ShanEduHub</title>
    <style>
        /* --- GENERAL STYLES --- */
        :root {
            --primary: #FF7675; /* Soft Red (Apple) */
            --secondary: #74B9FF; /* Sky Blue */
            --accent: #FDCB6E; /* Pie Crust Yellow */
            --green: #55EFC4; /* Mint */
            --purple: #A29BFE;
            --bg: #FFF0F5; /* Lavender Blush Background */
            --card-bg: #FFFFFF;
            --text: #2D3436;
        }

        body {
            font-family: 'Comic Sans MS', 'Chalkboard SE', sans-serif;
            background-color: var(--bg);
            color: var(--text);
            margin: 0;
            padding: 0;
            line-height: 1.6;
        }

        .container {
            max-width: 900px;
            margin: 0 auto;
            padding: 20px;
        }

        /* --- HEADER --- */
        header {
            background: linear-gradient(135deg, #FF7675, #FAB1A0);
            color: white;
            padding: 25px;
            text-align: center;
            border-radius: 0 0 30px 30px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            border-bottom: 5px solid #E17055;
        }

        header h1 { margin: 0; font-size: 2.2em; text-shadow: 2px 2px 0 rgba(0,0,0,0.2); }
        header p { font-size: 1.2em; margin-top: 10px; font-weight: bold; background: rgba(255,255,255,0.3); display: inline-block; padding: 5px 15px; border-radius: 20px; }

        /* --- CARDS & SECTIONS --- */
        .card {
            background: var(--card-bg);
            border-radius: 20px;
            padding: 25px;
            margin-bottom: 25px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.05);
            border-left: 6px solid var(--secondary);
            transition: transform 0.2s;
        }

        .card:hover { transform: translateY(-3px); }

        h2 { color: #E17055; border-bottom: 2px dashed #FAB1A0; padding-bottom: 10px; }
        h3 { color: #0984E3; margin-top: 20px; }

        /* --- FRACTION VISUALS (CSS SHAPES) --- */
        .fraction-box {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 20px;
            margin: 20px 0;
            flex-wrap: wrap;
        }

        .pie {
            width: 80px;
            height: 80px;
            border-radius: 50%;
            border: 2px solid #2D3436;
            background: white;
            position: relative;
            box-shadow: 2px 2px 5px rgba(0,0,0,0.1);
        }

        /* CSS Gradients for Fractions */
        .pie-half {
            background: conic-gradient(var(--primary) 0% 50%, white 50% 100%);
        }
        .pie-quarter {
            background: conic-gradient(var(--secondary) 0% 25%, white 25% 100%);
        }
        .pie-third {
            background: conic-gradient(var(--accent) 0% 33.33%, white 33.33% 100%);
        }
        .pie-whole {
            background: var(--green);
        }
        .pie-three-quarter {
            background: conic-gradient(var(--purple) 0% 75%, white 75% 100%);
        }

        /* Square Fractions */
        .bar {
            width: 100px;
            height: 30px;
            border: 2px solid #2D3436;
            display: flex;
        }
        .bar-part { flex: 1; border-right: 1px solid #2D3436; }
        .bar-part:last-child { border-right: none; }
        .shaded { background-color: var(--primary); }

        /* --- PRACTICE SECTION UI --- */
        .quiz-controls {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            justify-content: center;
            margin-bottom: 20px;
        }

        .set-btn {
            padding: 12px 20px;
            border: none;
            border-radius: 50px;
            cursor: pointer;
            font-weight: bold;
            font-size: 1rem;
            transition: all 0.2s;
            color: white;
            box-shadow: 0 4px 0 rgba(0,0,0,0.1);
        }

        .set-btn:active { transform: translateY(2px); box-shadow: none; }
        .btn-yellow { background-color: #FDCB6E; color: #333; }
        .btn-blue { background-color: #74B9FF; }
        .btn-green { background-color: #55EFC4; color: #333; }
        .btn-orange { background-color: #E17055; }
        .btn-red { background-color: #A29BFE; }

        .active-set { border: 3px solid #2D3436; transform: scale(1.05); box-shadow: 0 0 10px rgba(0,0,0,0.2); }

        /* --- QUESTION STYLES --- */
        .question-box {
            background: white;
            padding: 20px;
            margin-bottom: 15px;
            border-radius: 15px;
            border: 2px solid #F1F2F6;
        }

        .input-answer {
            padding: 10px;
            font-size: 1.1rem;
            border: 2px solid #CCC;
            border-radius: 10px;
            width: 150px;
            text-align: center;
            outline: none;
        }
        .input-answer:focus { border-color: var(--primary); }

        .mcq-options button {
            display: block;
            width: 100%;
            text-align: left;
            padding: 12px;
            margin: 8px 0;
            background: #F9F9F9;
            border: 2px solid #EEE;
            border-radius: 10px;
            cursor: pointer;
            font-size: 1rem;
            font-family: inherit;
        }
        .mcq-options button:hover { background: #EEF; border-color: var(--primary); }

        .feedback {
            margin-top: 15px;
            padding: 15px;
            border-radius: 10px;
            display: none;
            font-weight: bold;
        }
        .correct { background-color: #D5F5E3; color: #196F3D; border: 1px solid #ABEBC6; }
        .wrong { background-color: #FADBD8; color: #943126; border: 1px solid #F5B7B1; }

        /* --- SCOREBOARD --- */
        .scoreboard {
            position: sticky;
            top: 0;
            background: #2D3436;
            color: white;
            padding: 15px;
            z-index: 100;
            display: flex;
            justify-content: space-around;
            border-radius: 0 0 15px 15px;
            box-shadow: 0 4px 10px rgba(0,0,0,0.3);
            font-weight: bold;
        }

        /* --- FOOTER --- */
        footer {
            background-color: #2D3436;
            color: white;
            text-align: center;
            padding: 30px;
            margin-top: 50px;
        }

        /* Responsive */
        @media (max-width: 600px) {
            header h1 { font-size: 1.8em; }
            .set-btn { width: 100%; margin-bottom: 5px; }
            .scoreboard { font-size: 0.8em; padding: 10px; }
        }
    </style>
</head>
<body>

    <header>
        <h1>ShanEduHub üåü</h1>
        <p>Class 2 Maths ‚Äì Fractions üç∞ üçé ‚ûó</p>
    </header>

    <div class="container">

        <div class="card">
            <h2>üëã What is a Fraction?</h2>
            <p>A <strong>Fraction</strong> is a part of a <strong>Whole</strong>.</p>
            <p>Imagine a delicious Pizza üçï or a Chocolate Bar üç´. If you share it with your friend, you are making fractions!</p>
            <div style="text-align: center; font-size: 1.5em; margin: 10px;">
                1 Whole üçé &rarr; Cut in middle &rarr; 2 Halves üåó
            </div>
        </div>

        <div class="card">
            <h2>1Ô∏è‚É£ Understanding Fractions</h2>
            
            <div class="fraction-box">
                <div style="text-align:center;">
                    <div class="pie pie-whole"></div>
                    <strong>1 Whole</strong><br>(1)
                </div>
                <div style="text-align:center;">
                    <div class="pie pie-half"></div>
                    <strong>Half</strong><br>(1/2)
                </div>
                <div style="text-align:center;">
                    <div class="pie pie-third"></div>
                    <strong>One-Third</strong><br>(1/3)
                </div>
                <div style="text-align:center;">
                    <div class="pie pie-quarter"></div>
                    <strong>One-Fourth</strong><br>(1/4)
                </div>
            </div>
        </div>

        <div class="card">
            <h2>2Ô∏è‚É£ Let's Learn the Types!</h2>
            
            <h3>üåó Half (1/2)</h3>
            <p>When we divide something into <strong>2 Equal Parts</strong>, each part is called a Half.</p>
            <p><em>Example: Cutting an apple into 2 equal pieces.</em></p>

            <h3>üßÄ One-Third (1/3)</h3>
            <p>When we divide something into <strong>3 Equal Parts</strong>, each part is One-Third.</p>
            <p><em>Example: A flag with 3 colors (like the Indian flag).</em></p>

            <h3>üç∞ One-Fourth (1/4)</h3>
            <p>When we divide something into <strong>4 Equal Parts</strong>, each part is called One-Fourth or a <strong>Quarter</strong>.</p>
            <p><em>Example: 4 slices of a small pizza.</em></p>
        </div>

        <div class="card" style="border-left-color: #A29BFE;">
            <h2>üëÄ Look and Learn (Tap to see Answer)</h2>
            
            <div style="background:#fff; padding:10px; margin-bottom:10px; border:1px solid #ccc; border-radius:5px;">
                <strong>Q: How many halves make a whole?</strong>
                <button onclick="this.nextElementSibling.innerText = '2 Halves'" style="margin-left:10px; padding:5px 10px;">Show Answer</button>
                <span style="font-weight:bold; color:#A29BFE; margin-left:10px;"></span>
            </div>

            <div style="background:#fff; padding:10px; border:1px solid #ccc; border-radius:5px;">
                <strong>Q: Identify this fraction:</strong> 
                <div class="pie pie-quarter" style="width:30px; height:30px; display:inline-block; vertical-align:middle; margin-left:10px;"></div>
                <button onclick="this.nextElementSibling.innerText = '1/4 (One-Fourth)'" style="margin-left:10px; padding:5px 10px;">Show Answer</button>
                <span style="font-weight:bold; color:#A29BFE; margin-left:10px;"></span>
            </div>
        </div>

        <div id="practice-section">
            <h1 style="text-align: center; color: var(--text);">üî• Practice Time (50+ Questions)</h1>
            
            <div class="scoreboard">
                <span>üìä Total: <span id="total-q">0</span></span>
                <span>‚úÖ Correct: <span id="correct-score">0</span></span>
                <span>‚ùå Wrong: <span id="wrong-score">0</span></span>
                <span>üìà Score: <span id="percentage">0%</span></span>
            </div>
            <br>

            <div class="quiz-controls">
                <button class="set-btn btn-yellow" onclick="loadSet(1)">üü° Set 1: Blanks</button>
                <button class="set-btn btn-blue" onclick="loadSet(2)">üîµ Set 2: Visuals</button>
                <button class="set-btn btn-green" onclick="loadSet(3)">üü¢ Set 3: Match</button>
                <button class="set-btn btn-orange" onclick="loadSet(4)">üü† Set 4: Stories</button>
                <button class="set-btn btn-red" onclick="loadSet(5)">üî¥ Set 5: Expert</button>
            </div>

            <div id="quiz-container">
                <div class="card" style="text-align: center; padding: 50px;">
                    <h3>Select a Practice Set to start! üëÜ</h3>
                </div>
            </div>
        </div>

        <div class="card" style="background: #E0F7FA; border-left: 6px solid #00BCD4;">
            <h2>üéÆ Fun Learning Activities</h2>
            <ol>
                <li><strong>Paper Folding:</strong> Take a paper circle. Fold it once for Half, fold again for Quarter!</li>
                <li><strong>Food Sharing:</strong> Ask mom for a roti or sandwich. Cut it into 4 pieces. Eat 1 piece. How much is that? (1/4)</li>
                <li><strong>Drawing:</strong> Draw a square and color 1/2 of it Red and 1/2 Blue.</li>
            </ol>
        </div>

        <div class="card" style="background: #fff; border-left: 6px solid #FDCB6E;">
            <h2>üéì Learning Outcomes</h2>
            <p><strong>Great job! Now you can:</strong></p>
            <ul>
                <li>‚úÖ Identify 1/2, 1/3, and 1/4.</li>
                <li>‚úÖ Understand parts of a whole.</li>
                <li>‚úÖ Solve simple fraction word problems.</li>
            </ul>
        </div>

    </div>

    <footer>
        <p>Designed & Created by <strong>SHRISHANT YADAV</strong></p>
        <p>üåü ShanEduHub ‚Äì Fun & Smart Learning for Class 2</p>
        <p>&copy; All Rights Reserved</p>
    </footer>

    <script>
        // --- DATA: 50+ UNIQUE QUESTIONS ---
        const questionSets = {
            1: [ // Set 1: Fill in the Blanks (10 Q)
                { id: 101, type: 'input', q: "A fraction is a part of a ____.", a: "whole", exp: "Fractions are parts of a whole." },
                { id: 102, type: 'input', q: "1 out of 2 equal parts is called ____.", a: "half", exp: "1/2 is Half." },
                { id: 103, type: 'input', q: "1 out of 4 equal parts is called ____.", a: "quarter", exp: "Quarter means one-fourth." },
                { id: 104, type: 'input', q: "To get 1/2, we divide an object into ____ equal parts.", a: "2", exp: "Half means 2 parts." },
                { id: 105, type: 'input', q: "To get 1/3, we divide an object into ____ equal parts.", a: "3", exp: "Third means 3 parts." },
                { id: 106, type: 'input', q: "Two halves make ____ whole.", a: "1", exp: "1/2 + 1/2 = 1." },
                { id: 107, type: 'input', q: "1/4 is written as One-____.", a: "fourth", exp: "1/4 is One-Fourth." },
                { id: 108, type: 'input', q: "If I eat half an apple, ____ apple is left.", a: "half", exp: "One half remains." },
                { id: 109, type: 'input', q: "In the fraction 1/3, the bottom number is ____.", a: "3", exp: "The denominator is 3." },
                { id: 110, type: 'input', q: "Equal parts mean every part is the ____ size.", a: "same", exp: "Fractions must be equal parts." }
            ],
            2: [ // Set 2: Visuals/MCQ (10 Q) - Using HTML Strings for Visuals
                { id: 201, type: 'mcq', q: "Which shows <strong>Half (1/2)</strong>?", options: ["<div class='pie pie-half'></div>", "<div class='pie pie-whole'></div>"], a: "<div class='pie pie-half'></div>", exp: "The first shape is half shaded." },
                { id: 202, type: 'mcq', q: "Which shows <strong>One-Quarter (1/4)</strong>?", options: ["<div class='pie pie-half'></div>", "<div class='pie pie-quarter'></div>"], a: "<div class='pie pie-quarter'></div>", exp: "The second shape has 1 part out of 4 shaded." },
                { id: 203, type: 'mcq', q: "Which shows <strong>One-Third (1/3)</strong>?", options: ["<div class='pie pie-quarter'></div>", "<div class='pie pie-third'></div>"], a: "<div class='pie pie-third'></div>", exp: "The second shape shows 1 out of 3." },
                { id: 204, type: 'mcq', q: "What fraction is shaded?", options: ["1/2", "1/4"], a: "1/2", visual: "<div class='pie pie-half' style='margin:0 auto;'></div>", exp: "Half the circle is colored." },
                { id: 205, type: 'mcq', q: "What fraction is shaded?", options: ["1/3", "1/2"], a: "1/3", visual: "<div class='pie pie-third' style='margin:0 auto;'></div>", exp: "One part out of three is colored." },
                { id: 206, type: 'mcq', q: "Is this a whole?", options: ["Yes", "No"], a: "Yes", visual: "<div class='pie pie-whole' style='margin:0 auto;'></div>", exp: "The entire circle is colored." },
                { id: 207, type: 'mcq', q: "Choose the fraction for: 1 part out of 4.", options: ["1/2", "1/4"], a: "1/4", exp: "1 out of 4 is 1/4." },
                { id: 208, type: 'mcq', q: "Identify the shaded part.", options: ["Quarter", "Half"], a: "Quarter", visual: "<div class='pie pie-quarter' style='margin:0 auto;'></div>", exp: "Only a small 1/4 slice is shaded." },
                { id: 209, type: 'mcq', q: "Which is smaller?", options: ["1/2", "1/4"], a: "1/4", exp: "A quarter is smaller than a half." },
                { id: 210, type: 'mcq', q: "Which has 3 parts?", options: ["One-Third", "One-Half"], a: "One-Third", exp: "Third implies 3." }
            ],
            3: [ // Set 3: Match / Logic (10 Q)
                { id: 301, type: 'mcq', q: "Match: 1/2 matches with?", options: ["One-Fourth", "Half"], a: "Half", exp: "1/2 is Half." },
                { id: 302, type: 'mcq', q: "Match: 1/4 matches with?", options: ["Quarter", "Whole"], a: "Quarter", exp: "1/4 is a Quarter." },
                { id: 303, type: 'mcq', q: "Match: 1/3 matches with?", options: ["One-Third", "Half"], a: "One-Third", exp: "Direct match." },
                { id: 304, type: 'mcq', q: "Match: Whole matches with?", options: ["1", "1/2"], a: "1", exp: "A whole is 1." },
                { id: 305, type: 'mcq', q: "Match: 2 Equal Parts matches with?", options: ["Halves", "Thirds"], a: "Halves", exp: "Divide by 2 = Halves." },
                { id: 306, type: 'mcq', q: "Match: 4 Equal Parts matches with?", options: ["Quarters", "Halves"], a: "Quarters", exp: "Divide by 4 = Quarters." },
                { id: 307, type: 'mcq', q: "Match: Numerator of 1/4?", options: ["1", "4"], a: "1", exp: "Top number is 1." },
                { id: 308, type: 'mcq', q: "Match: Denominator of 1/3?", options: ["1", "3"], a: "3", exp: "Bottom number is 3." },
                { id: 309, type: 'mcq', q: "Match: Semi-Circle matches with?", options: ["Half Circle", "Full Circle"], a: "Half Circle", exp: "Semi means half." },
                { id: 310, type: 'mcq', q: "Match: Cutting middle of Apple?", options: ["1/2", "1/4"], a: "1/2", exp: "Creates two halves." }
            ],
            4: [ // Set 4: Word Problems (10 Q)
                { id: 401, type: 'mcq', q: "Riya has 1 pizza. She cuts it into 4 slices. She eats 1 slice. What fraction did she eat?", options: ["1/4", "1/2"], a: "1/4", exp: "1 out of 4 slices." },
                { id: 402, type: 'mcq', q: "Tom has a chocolate bar. He breaks it into 2 equal pieces. He gives one to Jerry. What did Jerry get?", options: ["Half", "Quarter"], a: "Half", exp: "1 out of 2 pieces." },
                { id: 403, type: 'input', q: "There are 3 balls. 1 is Red. The fraction of Red balls is 1/___.", a: "3", exp: "1 out of 3." },
                { id: 404, type: 'mcq', q: "Mom cut a cake into 3 parts. I ate 1 part. Fraction eaten?", options: ["1/3", "1/2"], a: "1/3", exp: "1 out of 3." },
                { id: 405, type: 'mcq', q: "A square is folded into 4 equal squares. 1 is colored blue. Fraction?", options: ["1/4", "1/2"], a: "1/4", exp: "1 out of 4." },
                { id: 406, type: 'mcq', q: "I have 2 halves of a lemon. If I join them, I get?", options: ["1 Whole Lemon", "2 Lemons"], a: "1 Whole Lemon", exp: "Half + Half = Whole." },
                { id: 407, type: 'mcq', q: "4 friends share a pizza equally. Each gets?", options: ["1/4", "1/3"], a: "1/4", exp: "Shared by 4." },
                { id: 408, type: 'mcq', q: "A flag has 3 equal bands: Orange, White, Green. What fraction is Green?", options: ["1/3", "1/2"], a: "1/3", exp: "1 out of 3 bands." },
                { id: 409, type: 'input', q: "If I cut a paper into 2 equal parts, I have two ____.", a: "halves", exp: "Plural of half is halves." },
                { id: 410, type: 'mcq', q: "Which is more to eat?", options: ["Half a Pizza", "Quarter of a Pizza"], a: "Half a Pizza", exp: "Half is bigger than quarter." }
            ],
            5: [ // Set 5: Expert/Mixed (10 Q)
                { id: 501, type: 'mcq', q: "Which shows 3/4 (Three-Quarters)?", options: ["<div class='pie pie-three-quarter'></div>", "<div class='pie pie-half'></div>"], a: "<div class='pie pie-three-quarter'></div>", exp: "3 parts out of 4 are shaded." },
                { id: 502, type: 'mcq', q: "1/2 + 1/2 = ?", options: ["1", "2"], a: "1", exp: "Two halves make a whole." },
                { id: 503, type: 'input', q: "To get quarters, we cut a half into ____ parts.", a: "2", exp: "Cutting a half in two makes quarters." },
                { id: 504, type: 'mcq', q: "If the numerator is 1 and denominator is 3, the fraction is?", options: ["1/3", "3/1"], a: "1/3", exp: "Top is 1, Bottom is 3." },
                { id: 505, type: 'mcq', q: "Unshaded part of <div class='pie pie-quarter' style='width:20px;height:20px;display:inline-block;vertical-align:middle'></div> is?", options: ["3/4", "1/4"], a: "3/4", exp: "If 1/4 is shaded, 3/4 is empty." },
                { id: 506, type: 'mcq', q: "Which shape can be divided into equal halves easily?", options: ["Circle", "Cloud"], a: "Circle", exp: "Geometric shapes divide equally." },
                { id: 507, type: 'input', q: "1/4 + 1/4 = 2/____.", a: "4", exp: "Denominators stay same." },
                { id: 508, type: 'mcq', q: "Does 1/3 mean 3 unequal parts?", options: ["No", "Yes"], a: "No", exp: "Fractions MUST be equal parts." },
                { id: 509, type: 'mcq', q: "Share 1 apple among 3 people.", options: ["1/3", "1/4"], a: "1/3", exp: "1 divided by 3." },
                { id: 510, type: 'mcq', q: "I ate 3 quarters of a cookie. How much is left?", options: ["1/4", "1/2"], a: "1/4", exp: "4 quarters - 3 quarters = 1 quarter." }
            ]
        };

        // --- STATE VARIABLES ---
        let currentSet = 1;
        let scoreCorrect = 0;
        let scoreWrong = 0;
        let totalAttempted = 0;

        // --- FUNCTIONS ---

        function loadSet(setNum) {
            currentSet = setNum;
            const container = document.getElementById('quiz-container');
            container.innerHTML = `<h2>üìù Set ${setNum} Questions</h2>`;
            
            // Highlight active button
            document.querySelectorAll('.set-btn').forEach(btn => btn.classList.remove('active-set'));
            document.querySelector(`.set-btn:nth-child(${setNum})`).classList.add('active-set');

            // Load questions
            const questions = questionSets[setNum];
            questions.forEach(q => {
                const qDiv = document.createElement('div');
                qDiv.className = 'question-box';
                qDiv.id = `qbox-${q.id}`;
                
                let inputHTML = '';
                
                // VISUAL INJECTION
                let visualHTML = q.visual ? `<div style="margin:10px;">${q.visual}</div>` : '';

                if (q.type === 'input') {
                    inputHTML = `
                        <p><strong>Q. ${q.q}</strong></p>
                        ${visualHTML}
                        <input type="text" class="input-answer" id="input-${q.id}" placeholder="?">
                        <button class="set-btn btn-blue" style="font-size:0.8rem; padding: 5px 15px; margin-left:10px;" onclick="checkInput(${q.id}, '${q.a}', '${q.exp.replace(/'/g, "\\'")}')">Check</button>
                    `;
                } else if (q.type === 'mcq') {
                    let optionsHTML = '';
                    q.options.forEach(opt => {
                        // Handle HTML in options (for visuals in buttons)
                        let optDisplay = opt; 
                        // For checking logic, we need to compare raw strings, but for display we render HTML
                        optionsHTML += `<button onclick="checkMCQ(${q.id}, '${opt.replace(/'/g, "\\'")}', '${q.a.replace(/'/g, "\\'")}', '${q.exp.replace(/'/g, "\\'")}')">${optDisplay}</button>`;
                    });
                    inputHTML = `
                        <p><strong>Q. ${q.q}</strong></p>
                        ${visualHTML}
                        <div class="mcq-options" id="opts-${q.id}">
                            ${optionsHTML}
                        </div>
                    `;
                }

                qDiv.innerHTML = inputHTML + `<div class="feedback" id="feedback-${q.id}"></div>`;
                container.appendChild(qDiv);
            });
        }

        function updateScore() {
            document.getElementById('correct-score').innerText = scoreCorrect;
            document.getElementById('wrong-score').innerText = scoreWrong;
            document.getElementById('total-q').innerText = totalAttempted;
            
            let percent = totalAttempted === 0 ? 0 : Math.round((scoreCorrect / totalAttempted) * 100);
            document.getElementById('percentage').innerText = percent + "%";
        }

        function showFeedback(id, isCorrect, correctAns, exp) {
            const fbDiv = document.getElementById(`feedback-${id}`);
            fbDiv.style.display = 'block';
            
            // For HTML answers in feedback, render them correctly
            let displayCorrect = correctAns.includes('<') ? "the image above" : correctAns;

            if (isCorrect) {
                fbDiv.className = 'feedback correct';
                fbDiv.innerHTML = `üéâ Correct! <br> <small>${exp}</small>`;
            } else {
                fbDiv.className = 'feedback wrong';
                fbDiv.innerHTML = `‚ùå Wrong. <br> <small>Reason: ${exp}</small>`;
            }
        }

        function checkInput(id, correct, exp) {
            const userVal = document.getElementById(`input-${id}`).value.trim().toLowerCase();
            const correctVal = correct.toLowerCase();
            const box = document.getElementById(`qbox-${id}`);

            // Prevent re-answering
            if(box.getAttribute('data-answered') === 'true') return;
            box.setAttribute('data-answered', 'true');

            totalAttempted++;
            if (userVal === correctVal) {
                scoreCorrect++;
                showFeedback(id, true, correct, exp);
            } else {
                scoreWrong++;
                showFeedback(id, false, correct, exp);
            }
            updateScore();
        }

        function checkMCQ(id, selected, correct, exp) {
            const box = document.getElementById(`qbox-${id}`);
            
            // Prevent re-answering
            if(box.getAttribute('data-answered') === 'true') return;
            box.setAttribute('data-answered', 'true');

            totalAttempted++;
            
            // Direct string comparison for HTML strings requires care, but strict equality works if strings match exactly
            if (selected === correct) {
                scoreCorrect++;
                showFeedback(id, true, correct, exp);
            } else {
                scoreWrong++;
                showFeedback(id, false, correct, exp);
            }
            updateScore();
            
            // Disable buttons visually
            const opts = document.getElementById(`opts-${id}`).getElementsByTagName('button');
            for(let btn of opts) {
                btn.disabled = true;
                // Check innerHTML for visual matches or text matches
                if(btn.innerHTML === correct || btn.innerText === correct) btn.style.background = '#D5F5E3';
                else if(btn.innerHTML === selected || btn.innerText === selected) btn.style.background = '#FADBD8';
            }
        }

        // Initialize with Set 1
        window.onload = function() {
            loadSet(1);
        };

    </script>
</body>
</html>