<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Family & People Around Us - Class 1 EVS</title>
    <link href="https://fonts.googleapis.com/css2?family=Fredoka+One&family=Nunito:wght@400;700;900&display=swap" rel="stylesheet">
    <style>
        :root {
            --yellow: #FFD93D;
            --green: #6BCB77;
            --blue: #4D96FF;
            --orange: #FF6B6B;
            --purple: #9B59B6;
            --bg: #F0F4F8;
            --text: #2D3436;
            --white: #ffffff;
        }

        body {
            font-family: 'Nunito', sans-serif;
            background-color: var(--bg);
            color: var(--text);
            margin: 0;
            padding: 0;
            padding-bottom: 70px; /* Space for footer */
            user-select: none; /* Prevent text selection for app-feel */
        }

        h1, h2, h3, h4 {
            font-family: 'Fredoka One', cursive;
            margin: 0;
            letter-spacing: 0.5px;
        }

        /* --- HERO SECTION --- */
        .hero {
            background: linear-gradient(135deg, var(--orange), var(--yellow));
            color: var(--white);
            text-align: center;
            padding: 30px 20px;
            border-bottom-left-radius: 40px;
            border-bottom-right-radius: 40px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            position: relative;
            overflow: hidden;
        }

        .hero h1 {
            font-size: 2.2rem;
            text-shadow: 2px 2px 0px rgba(0,0,0,0.1);
            animation: bounceIn 1s ease-out;
        }
        
        .hero p {
            font-size: 1.2rem;
            opacity: 0.9;
            margin-top: 5px;
        }

        /* --- CONTAINER --- */
        .container {
            max-width: 800px;
            margin: 25px auto;
            padding: 0 15px;
        }

        /* --- ACCORDION CHAPTERS --- */
        .chapter-card {
            background: var(--white);
            border-radius: 20px;
            margin-bottom: 20px;
            box-shadow: 0 4px 10px rgba(0,0,0,0.05);
            overflow: hidden;
            border: 2px solid transparent;
            transition: all 0.3s ease;
        }

        .chapter-header {
            padding: 20px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: space-between;
            background: var(--white);
            transition: background 0.2s;
        }

        .chapter-header:hover { background-color: #fff9e6; }

        .c-icon { font-size: 2.5rem; margin-right: 15px; transition: transform 0.3s; }
        .chapter-card:hover .c-icon { transform: scale(1.2) rotate(10deg); }

        .c-title { flex-grow: 1; }
        .c-title h2 { font-size: 1.4rem; color: var(--text); }
        .c-title span { font-size: 0.9rem; color: #666; font-weight: bold; }
        
        .arrow { font-size: 1.5rem; color: var(--blue); transition: transform 0.3s; }

        /* Specific Border Colors */
        .chap-5 { border-bottom: 6px solid var(--orange); }
        .chap-6 { border-bottom: 6px solid var(--green); }
        .chap-7 { border-bottom: 6px solid var(--blue); }

        /* Content Area */
        .chapter-content {
            display: none;
            padding: 20px;
            background: #fff;
            border-top: 1px solid #eee;
        }

        .chapter-content.active {
            display: block;
            animation: slideDown 0.4s ease-out;
        }

        /* --- CONTENT COMPONENTS --- */
        .note-box {
            background: #f8f9fa;
            border-left: 5px solid var(--blue);
            padding: 15px;
            margin: 15px 0;
            border-radius: 10px;
            font-size: 1.1rem;
            line-height: 1.6;
        }
        
        .hinglish { color: #666; font-size: 0.95em; display: block; margin-top: 4px; font-style: italic; }

        /* Visual Cards Grid */
        .grid-cards {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(130px, 1fr));
            gap: 15px;
            margin: 20px 0;
        }

        .v-card {
            background: #fff;
            border: 2px solid #eee;
            border-radius: 15px;
            padding: 15px;
            text-align: center;
            transition: transform 0.2s;
        }
        .v-card:hover { transform: translateY(-5px); border-color: var(--yellow); }
        .v-card div { font-size: 3rem; margin-bottom: 5px; }
        .v-card strong { color: var(--blue); display: block; }

        /* Buttons */
        .btn-speak {
            background: var(--blue);
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 50px;
            font-weight: bold;
            font-size: 1rem;
            cursor: pointer;
            display: inline-flex;
            align-items: center;
            gap: 8px;
            box-shadow: 0 4px 0 #2c7be5;
            transition: transform 0.1s;
        }
        .btn-speak:active { transform: translateY(4px); box-shadow: none; }

        /* Mini Think Zone */
        .mini-zone {
            background: #e3f2fd;
            padding: 20px;
            border-radius: 15px;
            margin-top: 25px;
            text-align: center;
        }
        .mini-zone h3 { color: var(--blue); margin-bottom: 15px; }
        
        .choice-btn {
            background: white;
            border: 2px solid var(--blue);
            color: var(--blue);
            padding: 10px 20px;
            margin: 5px;
            border-radius: 10px;
            font-weight: bold;
            font-size: 1rem;
            cursor: pointer;
            width: 45%;
        }
        .choice-btn.correct { background: var(--green); color: white; border-color: var(--green); }
        .choice-btn.wrong { background: var(--orange); color: white; border-color: var(--orange); }

        /* --- PRACTICE BUTTON & MODAL --- */
        .big-practice-btn {
            background: linear-gradient(45deg, #FF512F, #DD2476);
            color: white;
            width: 100%;
            padding: 20px;
            font-size: 1.6rem;
            border: none;
            border-radius: 20px;
            cursor: pointer;
            font-family: 'Fredoka One', cursive;
            margin-top: 30px;
            box-shadow: 0 10px 20px rgba(221, 36, 118, 0.3);
            animation: pulse 2s infinite;
        }

        #quiz-modal {
            display: none;
            position: fixed;
            top: 0; left: 0; width: 100%; height: 100%;
            background: rgba(45, 52, 54, 0.95);
            z-index: 999;
            flex-direction: column;
            align-items: center;
            justify-content: center;
        }

        .quiz-card {
            background: white;
            width: 90%;
            max-width: 500px;
            padding: 25px;
            border-radius: 25px;
            text-align: center;
            position: relative;
            box-shadow: 0 10px 30px rgba(0,0,0,0.5);
        }

        .quiz-stats {
            display: flex;
            justify-content: space-between;
            margin-bottom: 15px;
            font-weight: bold;
            color: #666;
            background: #f1f1f1;
            padding: 10px;
            border-radius: 10px;
        }

        .quiz-question {
            font-size: 1.5rem;
            color: var(--text);
            margin: 20px 0;
            font-weight: bold;
        }

        .quiz-options {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 10px;
        }
        
        .quiz-opt {
            background: white;
            border: 3px solid #eee;
            padding: 15px;
            border-radius: 15px;
            font-size: 1.2rem;
            cursor: pointer;
            font-weight: bold;
            color: var(--text);
            transition: all 0.2s;
        }
        .quiz-opt:active { transform: scale(0.95); }

        /* Footer */
        footer {
            background: var(--text);
            color: white;
            text-align: center;
            padding: 15px;
            position: fixed;
            bottom: 0;
            width: 100%;
            font-size: 0.9rem;
            z-index: 100;
        }

        /* Animations */
        @keyframes bounceIn { 0%{transform: scale(0.5); opacity:0;} 60%{transform: scale(1.1);} 100%{transform: scale(1);} }
        @keyframes pulse { 0% { transform: scale(1); } 50% { transform: scale(1.03); } 100% { transform: scale(1); } }
        @keyframes slideDown { from { opacity: 0; transform: translateY(-15px); } to { opacity: 1; transform: translateY(0); } }

    </style>
</head>
<body>

    <div class="hero">
        <h1>üë®‚Äçüë©‚Äçüëß Family & People</h1>
        <p>Mera Parivaar aur Aas-Paas ke Log</p>
    </div>

    <div class="container">

        <div class="chapter-card chap-5">
            <div class="chapter-header" onclick="toggleChapter('c5')">
                <div style="display:flex; align-items:center;">
                    <span class="c-icon">üè°</span>
                    <div class="c-title">
                        <h2>My Family</h2>
                        <span>Mera Parivaar</span>
                    </div>
                </div>
                <span class="arrow">‚ñº</span>
            </div>
            <div id="c5" class="chapter-content">
                <button class="btn-speak" onclick="speakContent('c5-notes')">üîä Listen to Notes</button>
                <div id="c5-notes">
                    <div class="note-box">
                        <p>‚Ä¢ <b>Small Family:</b> Has parents and children.</p>
                        <span class="hinglish">Small family me mummy, papa aur bacche hote hain.</span>
                    </div>
                    <div class="note-box">
                        <p>‚Ä¢ <b>Big Family:</b> Has grandparents, uncle, aunt also.</p>
                        <span class="hinglish">Big family me dada, dadi, chacha, chachi bhi hote hain.</span>
                    </div>
                    <div class="note-box">
                        <p>‚Ä¢ <b>Love & Help:</b> We should love and help each other.</p>
                        <span class="hinglish">Hume ek doosre ki madad karni chahiye.</span>
                    </div>
                </div>

                <h3>Who is who? (Rishtey)</h3>
                <div class="grid-cards">
                    <div class="v-card"><div>üë®</div><strong>Father<br>Papa</strong></div>
                    <div class="v-card"><div>üë©</div><strong>Mother<br>Mummy</strong></div>
                    <div class="v-card"><div>üë¥</div><strong>Grandpa<br>Dada/Nana</strong></div>
                    <div class="v-card"><div>üëµ</div><strong>Grandma<br>Dadi/Nani</strong></div>
                </div>

                <div class="mini-zone">
                    <h3>Think & Answer ü§î</h3>
                    <p id="mq1">Q: Does a small family have grandparents?</p>
                    <button class="choice-btn" onclick="checkMini(this, false, 'No. Small family has only parents.')">Yes / Haan</button>
                    <button class="choice-btn" onclick="checkMini(this, true, 'Correct! Only Big families have grandparents.')">No / Nahi</button>
                </div>
            </div>
        </div>

        <div class="chapter-card chap-6">
            <div class="chapter-header" onclick="toggleChapter('c6')">
                <div style="display:flex; align-items:center;">
                    <span class="c-icon">ü§ù</span>
                    <div class="c-title">
                        <h2>People Around Us</h2>
                        <span>Hamare Aas-Paas ke Log</span>
                    </div>
                </div>
                <span class="arrow">‚ñº</span>
            </div>
            <div id="c6" class="chapter-content">
                <button class="btn-speak" onclick="speakContent('c6-notes')">üîä Listen to Notes</button>
                <div id="c6-notes">
                    <div class="note-box">
                        <p>‚Ä¢ <b>Neighbours:</b> People who live near our house.</p>
                        <span class="hinglish">Padosi hamare ghar ke paas rehte hain.</span>
                    </div>
                    <div class="note-box">
                        <p>‚Ä¢ <b>Friends:</b> We play and share with friends.</p>
                        <span class="hinglish">Hum doston ke saath khelte hain.</span>
                    </div>
                    <div class="note-box">
                        <p>‚Ä¢ <b>Teachers:</b> Teach us good manners and studies.</p>
                        <span class="hinglish">Teacher hume achhi baatein sikhate hain.</span>
                    </div>
                </div>

                <h3>Values üåü</h3>
                <div class="grid-cards">
                    <div class="v-card"><div>ü§≤</div><strong>Sharing<br>Baatna</strong></div>
                    <div class="v-card"><div>ü§ù</div><strong>Respect<br>Izzat</strong></div>
                </div>

                <div class="mini-zone">
                    <h3>Think & Answer ü§î</h3>
                    <p>Q: Who lives near our house?</p>
                    <button class="choice-btn" onclick="checkMini(this, true, 'Yes! Neighbours live nearby.')">Neighbour</button>
                    <button class="choice-btn" onclick="checkMini(this, false, 'No, Doctor treats sick people.')">Doctor</button>
                </div>
            </div>
        </div>

        <div class="chapter-card chap-7">
            <div class="chapter-header" onclick="toggleChapter('c7')">
                <div style="display:flex; align-items:center;">
                    <span class="c-icon">üëÆ‚Äç‚ôÇÔ∏è</span>
                    <div class="c-title">
                        <h2>Community Helpers</h2>
                        <span>Samaj ke Madadgaar</span>
                    </div>
                </div>
                <span class="arrow">‚ñº</span>
            </div>
            <div id="c7" class="chapter-content">
                <button class="btn-speak" onclick="speakContent('c7-notes')">üîä Listen to Notes</button>
                <div id="c7-notes">
                    <div class="note-box">
                        <p>‚Ä¢ <b>Doctor:</b> Treats sick people. (Bimaar ko thik karte hain)</p>
                    </div>
                    <div class="note-box">
                        <p>‚Ä¢ <b>Farmer:</b> Grows food for us. (Khet me anaaj ugate hain)</p>
                    </div>
                    <div class="note-box">
                        <p>‚Ä¢ <b>Policeman:</b> Keeps us safe. (Suraksha karte hain)</p>
                    </div>
                    <div class="note-box">
                        <p>‚Ä¢ <b>Postman:</b> Brings letters. (Chitthi laate hain)</p>
                    </div>
                </div>

                <h3>Helpers üõ†Ô∏è</h3>
                <div class="grid-cards">
                    <div class="v-card"><div>ü©∫</div><strong>Doctor</strong></div>
                    <div class="v-card"><div>üåæ</div><strong>Farmer</strong></div>
                    <div class="v-card"><div>üëÆ</div><strong>Police</strong></div>
                    <div class="v-card"><div>üì®</div><strong>Postman</strong></div>
                </div>

                <div class="mini-zone">
                    <h3>Think & Answer ü§î</h3>
                    <p>Q: Who catches thieves (Chor)?</p>
                    <button class="choice-btn" onclick="checkMini(this, false, 'Try again. Teacher teaches.')">Teacher</button>
                    <button class="choice-btn" onclick="checkMini(this, true, 'Correct! Police catches thieves.')">Police</button>
                </div>
            </div>
        </div>

        <button class="big-practice-btn" onclick="startPractice()">
            Let's Practice ‚úçÔ∏è
        </button>

    </div>

    <div id="quiz-modal">
        <div class="quiz-card">
            <div class="quiz-stats">
                <span>‚≠ê Score: <span id="score">0</span></span>
                <span>‚ùå Wrong: <span id="wrong">0</span></span>
                <span>‚ùì Q: <span id="qcount">1</span></span>
            </div>
            
            <div id="end-screen" style="display:none;">
                <div style="font-size:4rem;" id="final-stars">‚≠ê‚≠ê‚≠ê</div>
                <h2 id="final-msg">Well Done!</h2>
                <p>You scored <span id="final-score"></span>%</p>
                <button class="big-practice-btn" onclick="startPractice()" style="margin-top:10px; font-size:1.2rem;">Play Again üîÑ</button>
                <button onclick="closeQuiz()" style="margin-top:10px; background:none; border:none; color:#666; text-decoration:underline; cursor:pointer;">Exit</button>
            </div>

            <div id="quiz-area">
                <div class="quiz-question" id="q-text">Loading Question...</div>
                <button class="btn-speak" id="read-q-btn" style="margin-bottom:15px; font-size:0.9rem;">üîä Read Question</button>
                <div class="quiz-options" id="q-options">
                    </div>
                <button onclick="closeQuiz()" style="margin-top:20px; background:#eee; border:none; padding:10px 20px; border-radius:10px;">Exit Quiz</button>
            </div>
        </div>
    </div>

    <footer>
        Designed & Created by SHRISHANT YADAV ‚ù§Ô∏è
    </footer>

    <script>
        /* --- 1. ACCORDION LOGIC --- */
        function toggleChapter(id) {
            document.querySelectorAll('.chapter-content').forEach(div => {
                if(div.id !== id) div.classList.remove('active');
            });
            const el = document.getElementById(id);
            el.classList.toggle('active');
            if(el.classList.contains('active')) speak("Opening Chapter");
        }

        /* --- 2. TEXT TO SPEECH (TTS) --- */
        function speak(text) {
            window.speechSynthesis.cancel();
            const utterance = new SpeechSynthesisUtterance(text);
            utterance.rate = 0.9; 
            utterance.pitch = 1.1; 
            utterance.lang = 'en-IN';
            window.speechSynthesis.speak(utterance);
        }

        function speakContent(id) {
            const text = document.getElementById(id).innerText;
            speak(text);
        }

        /* --- 3. MINI CHECK LOGIC --- */
        function checkMini(btn, isCorrect, msg) {
            speak(msg);
            if(isCorrect) {
                btn.classList.add('correct');
                btn.innerHTML += ' ‚úî';
            } else {
                btn.classList.add('wrong');
                btn.innerHTML += ' ‚ùå';
            }
        }

        /* --- 4. QUESTION GENERATOR (THE BRAIN) --- */
        // We need 120 unique questions logic. 
        // We will define patterns and generate them dynamically to ensure variety.

        const baseQuestions = [
            // --- CHAPTER 5: FAMILY ---
            { q: "Father is also called...", ans: "Papa", opts: ["Papa", "Mama"] },
            { q: "Mother is also called...", ans: "Mummy", opts: ["Mummy", "Dadi"] },
            { q: "Grandfather is...", ans: "Dada", opts: ["Dada", "Behen"] },
            { q: "Sister means...", ans: "Behen", opts: ["Behen", "Bhai"] },
            { q: "Brother means...", ans: "Bhai", opts: ["Bhai", "Nani"] },
            { q: "Small family has...", ans: "Parents + Kids", opts: ["Parents + Kids", "Grandparents"] },
            { q: "Big family has...", ans: "Grandparents", opts: ["Grandparents", "Only Parents"] },
            { q: "We should ___ our parents.", ans: "Respect", opts: ["Respect", "Hit"] },
            { q: "We should ___ our family.", ans: "Love", opts: ["Love", "Hate"] },
            { q: "My father's father is my...", ans: "Grandfather", opts: ["Grandfather", "Brother"] },
            { q: "My mother's mother is my...", ans: "Grandmother", opts: ["Grandmother", "Sister"] },
            { q: "Do you help your mother?", ans: "Yes", opts: ["Yes", "No"] },
            { q: "Identify: üë¥", ans: "Grandfather", opts: ["Grandfather", "Baby"] },
            { q: "Identify: üë∂", ans: "Baby", opts: ["Baby", "Papa"] },
            { q: "Identify: üè°", ans: "Home", opts: ["Home", "School"] },

            // --- CHAPTER 6: PEOPLE AROUND ---
            { q: "Who lives near our house?", ans: "Neighbour", opts: ["Neighbour", "Tiger"] },
            { q: "Who teaches us?", ans: "Teacher", opts: ["Teacher", "Driver"] },
            { q: "We play with...", ans: "Friends", opts: ["Friends", "Enemies"] },
            { q: "We should ___ with friends.", ans: "Share", opts: ["Share", "Fight"] },
            { q: "School has many...", ans: "Teachers", opts: ["Teachers", "Farmers"] },
            { q: "Identify: ü§ù", ans: "Friendship", opts: ["Friendship", "Fighting"] },
            { q: "Should we fight with neighbours?", ans: "No", opts: ["No", "Yes"] },
            { q: "Are friends important?", ans: "Yes", opts: ["Yes", "No"] },
            { q: "Respect elders?", ans: "Yes", opts: ["Yes", "No"] },
            
            // --- CHAPTER 7: HELPERS ---
            { q: "Who treats sick people?", ans: "Doctor", opts: ["Doctor", "Cobbler"] },
            { q: "Who catches thieves?", ans: "Police", opts: ["Police", "Tailor"] },
            { q: "Who grows food?", ans: "Farmer", opts: ["Farmer", "Singer"] },
            { q: "Who brings letters?", ans: "Postman", opts: ["Postman", "Dancer"] },
            { q: "Who teaches in class?", ans: "Teacher", opts: ["Teacher", "Police"] },
            { q: "Who drives the bus?", ans: "Driver", opts: ["Driver", "Doctor"] },
            { q: "Who mends shoes?", ans: "Cobbler", opts: ["Cobbler", "Barber"] },
            { q: "Who cuts hair?", ans: "Barber", opts: ["Barber", "Farmer"] },
            { q: "Who sells things?", ans: "Shopkeeper", opts: ["Shopkeeper", "Pilot"] },
            { q: "Identify: ü©∫", ans: "Doctor", opts: ["Doctor", "Teacher"] },
            { q: "Identify: üöì", ans: "Police", opts: ["Police", "Bus"] },
            { q: "Identify: üåæ", ans: "Farmer", opts: ["Farmer", "Postman"] },
            { q: "Does a Doctor fly planes?", ans: "No", opts: ["No", "Yes"] },
            { q: "Does a Farmer work in fields?", ans: "Yes", opts: ["Yes", "No"] },
            { q: "Is Policeman a helper?", ans: "Yes", opts: ["Yes", "No"] }
        ];

        // Function to create variations to reach high question count
        function generatePracticePool() {
            let pool = [];
            
            // 1. Add Base Questions
            pool = pool.concat(baseQuestions);

            // 2. Add "True/False" Variations
            baseQuestions.forEach(item => {
                if(item.opts.includes("Yes")) return; // Skip existing yes/no
                
                // True Statement
                pool.push({
                    q: `Is ${item.ans} the correct answer for: ${item.q.replace('?','')}`, 
                    ans: "Yes / Haan", 
                    opts: ["Yes / Haan", "No / Nahi"]
                });
                
                // False Statement (using the wrong option)
                let wrongOpt = item.opts.find(o => o !== item.ans);
                pool.push({
                    q: `Is ${wrongOpt} the answer for: ${item.q.replace('?','')}`, 
                    ans: "No / Nahi", 
                    opts: ["No / Nahi", "Yes / Haan"]
                });
            });

            // 3. Add "Who am I?" Variations for helpers
            const helpers = [
                {n: "Doctor", d: "I have a stethoscope."},
                {n: "Farmer", d: "I have a tractor."},
                {n: "Postman", d: "I carry a bag of letters."},
                {n: "Police", d: "I wear a khaki uniform."},
                {n: "Teacher", d: "I use chalk and board."}
            ];
            
            helpers.forEach(h => {
                pool.push({ q: `Who am I? ${h.d}`, ans: h.n, opts: [h.n, "Baby"] });
                pool.push({ q: `Does a ${h.n} do this? "${h.d}"`, ans: "Yes", opts: ["Yes", "No"] });
            });

            // Shuffle well
            return pool.sort(() => 0.5 - Math.random());
        }

        /* --- 5. QUIZ ENGINE --- */
        let currentPool = [];
        let qIndex = 0;
        let score = 0;
        let wrong = 0;
        const totalQ = 10; // 10 Q per session to keep kids engaged

        function startPractice() {
            currentPool = generatePracticePool().slice(0, totalQ); // Get 10 randoms
            qIndex = 0;
            score = 0;
            wrong = 0;
            
            document.getElementById('score').innerText = "0";
            document.getElementById('wrong').innerText = "0";
            document.getElementById('quiz-modal').style.display = 'flex';
            document.getElementById('end-screen').style.display = 'none';
            document.getElementById('quiz-area').style.display = 'block';
            
            loadQuestion();
        }

        function loadQuestion() {
            if (qIndex >= totalQ) {
                endQuiz();
                return;
            }

            const qObj = currentPool[qIndex];
            document.getElementById('qcount').innerText = qIndex + 1;
            document.getElementById('q-text').innerText = qObj.q;
            
            // TTS
            document.getElementById('read-q-btn').onclick = () => speak(qObj.q);
            speak(qObj.q); // Auto read

            const optDiv = document.getElementById('q-options');
            optDiv.innerHTML = '';

            // Shuffle options
            let shuffledOpts = [...qObj.opts].sort(() => 0.5 - Math.random());

            shuffledOpts.forEach(opt => {
                const btn = document.createElement('div');
                btn.className = 'quiz-opt';
                btn.innerText = opt;
                btn.onclick = () => handleAnswer(btn, opt, qObj.ans);
                optDiv.appendChild(btn);
            });
        }

        function handleAnswer(btn, selected, correct) {
            // Disable clicks
            const allBtns = document.querySelectorAll('.quiz-opt');
            allBtns.forEach(b => b.style.pointerEvents = 'none');

            if (selected === correct) {
                btn.style.background = '#6BCB77'; // Green
                btn.style.color = 'white';
                btn.style.borderColor = '#6BCB77';
                score++;
                document.getElementById('score').innerText = score;
                speak("Excellent! Correct.");
            } else {
                btn.style.background = '#FF6B6B'; // Red
                btn.style.color = 'white';
                btn.style.borderColor = '#FF6B6B';
                wrong++;
                document.getElementById('wrong').innerText = wrong;
                speak(`Oops. The answer is ${correct}`);
                
                // Highlight correct
                allBtns.forEach(b => {
                    if(b.innerText === correct) {
                        b.style.background = '#eee';
                        b.style.borderColor = '#6BCB77';
                        b.style.color = '#6BCB77';
                    }
                });
            }

            setTimeout(() => {
                qIndex++;
                loadQuestion();
            }, 2000);
        }

        function endQuiz() {
            document.getElementById('quiz-area').style.display = 'none';
            document.getElementById('end-screen').style.display = 'block';
            
            const percent = (score / totalQ) * 100;
            let stars = "‚≠ê";
            let msg = "Keep Trying!";
            
            if(percent >= 90) { stars = "‚≠ê‚≠ê‚≠ê‚≠ê"; msg = "Super Star! üèÜ"; }
            else if(percent >= 75) { stars = "‚≠ê‚≠ê‚≠ê"; msg = "Great Job! üéâ"; }
            else if(percent >= 50) { stars = "‚≠ê‚≠ê"; msg = "Good Effort! üëç"; }

            document.getElementById('final-stars').innerText = stars;
            document.getElementById('final-msg').innerText = msg;
            document.getElementById('final-score').innerText = percent;
            speak(msg + ` You got ${score} out of ${totalQ}`);
        }

        function closeQuiz() {
            document.getElementById('quiz-modal').style.display = 'none';
            speak("Quiz closed.");
        }

    </script>
</body>
</html>