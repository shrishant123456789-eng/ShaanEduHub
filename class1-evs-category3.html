<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Home & School - Class 1 EVS</title>
    <link href="https://fonts.googleapis.com/css2?family=Fredoka+One&family=Nunito:wght@400;700;800&display=swap" rel="stylesheet">
    <style>
        :root {
            --c-yellow: #FFD93D;
            --c-green: #6BCB77;
            --c-blue: #4D96FF;
            --c-orange: #FF6B6B;
            --c-purple: #9B59B6;
            --bg-soft: #F0F4F8;
            --text-dark: #2D3436;
            --white: #ffffff;
        }

        body {
            font-family: 'Nunito', sans-serif;
            background-color: var(--bg-soft);
            color: var(--text-dark);
            margin: 0;
            padding: 0;
            padding-bottom: 80px; /* Space for footer */
            user-select: none;
        }

        h1, h2, h3 { font-family: 'Fredoka One', cursive; margin: 0; }

        /* --- HERO SECTION --- */
        .hero {
            background: linear-gradient(135deg, var(--c-purple), var(--c-blue));
            color: var(--white);
            text-align: center;
            padding: 30px 20px;
            border-bottom-left-radius: 40px;
            border-bottom-right-radius: 40px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.15);
        }
        .hero h1 { font-size: 2.2rem; animation: float 3s ease-in-out infinite; }
        .hero p { font-size: 1.2rem; opacity: 0.9; margin-top: 5px; }

        /* --- CONTAINER --- */
        .container { max-width: 800px; margin: 25px auto; padding: 0 15px; }

        /* --- ACCORDION CHAPTERS --- */
        .chapter-card {
            background: var(--white);
            border-radius: 20px;
            margin-bottom: 20px;
            box-shadow: 0 5px 10px rgba(0,0,0,0.05);
            overflow: hidden;
            border: 3px solid transparent;
            transition: transform 0.2s;
        }
        
        .chapter-header {
            padding: 20px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: space-between;
            background: #fff;
            transition: background 0.3s;
        }
        .chapter-header:hover { background-color: #fcfcfc; }
        
        .icon-box { font-size: 2.5rem; margin-right: 15px; }
        .title-box h2 { font-size: 1.4rem; color: var(--text-dark); }
        .title-box span { font-size: 0.95rem; color: #777; font-weight: bold; }
        .arrow { font-size: 1.5rem; color: var(--c-blue); transition: transform 0.3s; }

        /* Chapter Colors */
        .ch8 { border-color: var(--c-orange); }
        .ch9 { border-color: var(--c-green); }
        .ch10 { border-color: var(--c-yellow); }

        /* Content Area */
        .chapter-content {
            display: none;
            padding: 20px;
            background: #fff;
            border-top: 1px dashed #eee;
        }
        .chapter-content.active { display: block; animation: slideDown 0.4s ease-out; }

        /* --- LEARNING COMPONENTS --- */
        .note-card {
            background: #f8f9fa;
            border-left: 6px solid;
            padding: 15px;
            margin: 10px 0;
            border-radius: 8px;
            font-size: 1.1rem;
        }
        .note-card.orange { border-color: var(--c-orange); }
        .note-card.green { border-color: var(--c-green); }
        .note-card.blue { border-color: var(--c-blue); }

        .hinglish {
            display: block;
            color: #666;
            font-size: 0.95em;
            font-style: italic;
            margin-top: 5px;
        }

        /* Visual Grid */
        .visual-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
            gap: 15px;
            margin: 20px 0;
        }
        .v-card {
            background: #fff;
            border: 2px solid #eee;
            border-radius: 15px;
            padding: 15px;
            text-align: center;
            transition: transform 0.2s;
        }
        .v-card:hover { transform: scale(1.05); border-color: var(--c-yellow); }
        .v-card div { font-size: 3rem; margin-bottom: 10px; }
        .v-card strong { color: var(--c-blue); display: block; }

        /* Buttons */
        .btn-speak {
            background: var(--c-blue);
            color: white;
            border: none;
            padding: 8px 16px;
            border-radius: 30px;
            font-weight: bold;
            font-size: 0.9rem;
            cursor: pointer;
            display: inline-flex;
            align-items: center;
            gap: 6px;
            margin-bottom: 15px;
        }
        .btn-speak:active { transform: scale(0.95); }

        /* Mini Think Zone */
        .mini-zone {
            background: #e0f7fa;
            padding: 20px;
            border-radius: 15px;
            margin-top: 20px;
            text-align: center;
            border: 2px dashed var(--c-blue);
        }
        .mini-btn {
            background: white;
            border: 2px solid var(--c-blue);
            color: var(--c-blue);
            padding: 8px 20px;
            margin: 5px;
            border-radius: 10px;
            font-weight: bold;
            cursor: pointer;
        }
        .mini-btn.correct { background: var(--c-green); color: white; border-color: var(--c-green); }
        .mini-btn.wrong { background: var(--c-orange); color: white; border-color: var(--c-orange); }

        /* --- BIG PRACTICE BUTTON --- */
        .practice-trigger {
            background: linear-gradient(45deg, #FF512F, #DD2476);
            color: white;
            width: 100%;
            padding: 20px;
            font-size: 1.5rem;
            border: none;
            border-radius: 20px;
            cursor: pointer;
            font-family: 'Fredoka One', cursive;
            margin-top: 30px;
            box-shadow: 0 8px 20px rgba(221, 36, 118, 0.4);
            animation: pulse 2s infinite;
        }

        /* --- MODAL QUIZ --- */
        #quiz-modal {
            display: none;
            position: fixed;
            top: 0; left: 0; width: 100%; height: 100%;
            background: rgba(0,0,0,0.9);
            z-index: 1000;
            justify-content: center;
            align-items: center;
            flex-direction: column;
        }
        .quiz-box {
            background: white;
            width: 90%;
            max-width: 500px;
            padding: 25px;
            border-radius: 25px;
            text-align: center;
            position: relative;
        }
        .score-panel {
            display: flex;
            justify-content: space-between;
            background: #eee;
            padding: 10px;
            border-radius: 10px;
            margin-bottom: 20px;
            font-weight: bold;
        }
        .q-text { font-size: 1.4rem; font-weight: bold; margin: 20px 0; color: var(--text-dark); }
        .opt-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 10px; }
        .opt-btn {
            background: white;
            border: 3px solid #ddd;
            padding: 15px;
            border-radius: 12px;
            font-size: 1.1rem;
            font-weight: bold;
            cursor: pointer;
        }
        
        /* Footer */
        footer {
            background: var(--text-dark);
            color: white;
            text-align: center;
            padding: 12px;
            position: fixed;
            bottom: 0;
            width: 100%;
            font-size: 0.9rem;
        }

        /* Animations */
        @keyframes float { 0%,100%{transform:translateY(0);} 50%{transform:translateY(-5px);} }
        @keyframes slideDown { from {opacity:0; transform:translateY(-10px);} to {opacity:1; transform:translateY(0);} }
        @keyframes pulse { 0% {transform:scale(1);} 50% {transform:scale(1.02);} 100% {transform:scale(1);} }

    </style>
</head>
<body>

    <div class="hero">
        <h1>üè† Home & School</h1>
        <p>Ghar aur School ki Baatein</p>
    </div>

    <div class="container">

        <div class="chapter-card ch8">
            <div class="chapter-header" onclick="toggleChapter('c8')">
                <div style="display:flex; align-items:center;">
                    <span class="icon-box">üè°</span>
                    <div class="title-box">
                        <h2>Our House</h2>
                        <span>Mera Ghar</span>
                    </div>
                </div>
                <span class="arrow">‚ñº</span>
            </div>
            <div id="c8" class="chapter-content">
                <button class="btn-speak" onclick="speakDiv('c8-content')">üîä Listen to Notes</button>
                <div id="c8-content">
                    <div class="note-card orange">
                        <p>‚Ä¢ <b>Hut:</b> A small house made of mud/straw.</p>
                        <span class="hinglish">Hut chhota aur kaccha ghar hota hai.</span>
                    </div>
                    <div class="note-card orange">
                        <p>‚Ä¢ <b>Pucca House:</b> A strong house made of bricks.</p>
                        <span class="hinglish">Pucca ghar majboot hota hai.</span>
                    </div>
                    <div class="note-card orange">
                        <p>‚Ä¢ <b>Flat:</b> A house in a big building.</p>
                        <span class="hinglish">Flat badi building me hota hai.</span>
                    </div>
                </div>

                <h3>Rooms (Kamre) üö™</h3>
                <div class="visual-grid">
                    <div class="v-card"><div>üõå</div><strong>Bedroom<br>Sona</strong></div>
                    <div class="v-card"><div>üç≥</div><strong>Kitchen<br>Khana</strong></div>
                    <div class="v-card"><div>üöø</div><strong>Bathroom<br>Nahana</strong></div>
                    <div class="v-card"><div>üõãÔ∏è</div><strong>Living Room<br>Baithna</strong></div>
                </div>

                <div class="mini-zone">
                    <h3>Think & Answer ü§î</h3>
                    <p>Q: Where do we sleep?</p>
                    <button class="mini-btn" onclick="checkMini(this, true)">Bedroom</button>
                    <button class="mini-btn" onclick="checkMini(this, false)">Kitchen</button>
                </div>
            </div>
        </div>

        <div class="chapter-card ch9">
            <div class="chapter-header" onclick="toggleChapter('c9')">
                <div style="display:flex; align-items:center;">
                    <span class="icon-box">üè´</span>
                    <div class="title-box">
                        <h2>Our School</h2>
                        <span>Mera School</span>
                    </div>
                </div>
                <span class="arrow">‚ñº</span>
            </div>
            <div id="c9" class="chapter-content">
                <button class="btn-speak" onclick="speakDiv('c9-content')">üîä Listen to Notes</button>
                <div id="c9-content">
                    <div class="note-card green">
                        <p>‚Ä¢ <b>Classroom:</b> We study here.</p>
                        <span class="hinglish">Hum classroom me padhte hain.</span>
                    </div>
                    <div class="note-card green">
                        <p>‚Ä¢ <b>Playground:</b> We play here.</p>
                        <span class="hinglish">Hum playground me khelte hain.</span>
                    </div>
                    <div class="note-card green">
                        <p>‚Ä¢ <b>Library:</b> A place with many books.</p>
                        <span class="hinglish">Library me bahut books hoti hain.</span>
                    </div>
                </div>

                <h3>School Rules üìú</h3>
                <div class="visual-grid">
                    <div class="v-card"><div>‚è∞</div><strong>Be on Time<br>Samay par aao</strong></div>
                    <div class="v-card"><div>üëÇ</div><strong>Listen<br>Suno</strong></div>
                    <div class="v-card"><div>üóëÔ∏è</div><strong>Clean<br>Saaf</strong></div>
                </div>

                <div class="mini-zone">
                    <h3>Think & Answer ü§î</h3>
                    <p>Q: Should we run in the library?</p>
                    <button class="mini-btn" onclick="checkMini(this, false)">Yes</button>
                    <button class="mini-btn" onclick="checkMini(this, true)">No</button>
                </div>
            </div>
        </div>

        <div class="chapter-card ch10">
            <div class="chapter-header" onclick="toggleChapter('c10')">
                <div style="display:flex; align-items:center;">
                    <span class="icon-box">‚úèÔ∏è</span>
                    <div class="title-box">
                        <h2>Things We Use</h2>
                        <span>Roz ki Cheezein</span>
                    </div>
                </div>
                <span class="arrow">‚ñº</span>
            </div>
            <div id="c10" class="chapter-content">
                <button class="btn-speak" onclick="speakDiv('c10-content')">üîä Listen to Notes</button>
                <div id="c10-content">
                    <div class="note-card blue">
                        <p>‚Ä¢ <b>Table:</b> Keep books on it.</p>
                    </div>
                    <div class="note-card blue">
                        <p>‚Ä¢ <b>Chair:</b> We sit on it.</p>
                    </div>
                    <div class="note-card blue">
                        <p>‚Ä¢ <b>Pencil:</b> We write with it.</p>
                    </div>
                    <div class="note-card blue">
                        <p>‚Ä¢ <b>Bag:</b> Carry books in it.</p>
                    </div>
                </div>

                <h3>Objects üéí</h3>
                <div class="visual-grid">
                    <div class="v-card"><div>ü™ë</div><strong>Chair</strong></div>
                    <div class="v-card"><div>‚úèÔ∏è</div><strong>Pencil</strong></div>
                    <div class="v-card"><div>üéí</div><strong>Bag</strong></div>
                    <div class="v-card"><div>üìö</div><strong>Books</strong></div>
                </div>

                <div class="mini-zone">
                    <h3>Think & Answer ü§î</h3>
                    <p>Q: We write with a...?</p>
                    <button class="mini-btn" onclick="checkMini(this, true)">Pencil</button>
                    <button class="mini-btn" onclick="checkMini(this, false)">Spoon</button>
                </div>
            </div>
        </div>

        <button class="practice-trigger" onclick="startPractice()">
            Practice Time ‚úçÔ∏è
        </button>

    </div>

    <div id="quiz-modal">
        <div class="quiz-box">
            <div class="score-panel">
                <span>‚≠ê Score: <span id="score">0</span></span>
                <span>‚ùå Wrong: <span id="wrong">0</span></span>
                <span>‚ùì Q: <span id="q-num">1</span></span>
            </div>
            
            <div id="end-screen" style="display:none;">
                <div style="font-size:4rem;" id="final-stars">‚≠ê‚≠ê‚≠ê</div>
                <h2 id="final-msg">Well Done!</h2>
                <p>You scored <span id="final-score"></span>%</p>
                <button class="practice-trigger" onclick="startPractice()" style="font-size:1.2rem; padding:15px;">Play Again üîÑ</button>
                <button onclick="closeQuiz()" style="margin-top:10px; background:none; border:none; text-decoration:underline; cursor:pointer;">Exit</button>
            </div>

            <div id="quiz-area">
                <div class="q-text" id="q-text">Loading...</div>
                <button class="btn-speak" onclick="speakQuestion()">üîä Read Question</button>
                <div class="opt-grid" id="opt-grid">
                    </div>
                <button onclick="closeQuiz()" style="margin-top:20px; padding:10px; border-radius:10px; border:none;">Exit Quiz</button>
            </div>
        </div>
    </div>

    <footer>
        Designed & Created by SHRISHANT YADAV ‚ù§Ô∏è
    </footer>

    <script>
        // --- 1. ACCORDION LOGIC ---
        function toggleChapter(id) {
            document.querySelectorAll('.chapter-content').forEach(d => {
                if(d.id !== id) d.classList.remove('active');
            });
            const el = document.getElementById(id);
            el.classList.toggle('active');
            if(el.classList.contains('active')) speak("Opening Chapter");
        }

        // --- 2. TTS ENGINE ---
        function speak(text) {
            window.speechSynthesis.cancel();
            const u = new SpeechSynthesisUtterance(text);
            u.lang = 'en-IN';
            u.rate = 0.9;
            u.pitch = 1.1;
            window.speechSynthesis.speak(u);
        }

        function speakDiv(id) {
            speak(document.getElementById(id).innerText);
        }

        // --- 3. MINI CHECK ---
        function checkMini(btn, isCorrect) {
            if(isCorrect) {
                btn.classList.add('correct');
                btn.innerText += " ‚úî";
                speak("Very Good!");
            } else {
                btn.classList.add('wrong');
                btn.innerText += " ‚ùå";
                speak("Try again.");
            }
        }

        // --- 4. QUESTION GENERATOR (120 Q Logic) ---
        // Instead of hardcoding 120 strings, we generate variations.
        
        const concepts = [
            // Chapter 8 Data
            { type: "room", name: "Bedroom", act: "sleep", hin: "sone", item: "Bed üõå" },
            { type: "room", name: "Kitchen", act: "cook food", hin: "khana banane", item: "Stove üç≥" },
            { type: "room", name: "Bathroom", act: "take a bath", hin: "nahane", item: "Soap üßº" },
            { type: "room", name: "Living Room", act: "sit with guests", hin: "baithne", item: "Sofa üõãÔ∏è" },
            { type: "house", name: "Hut", desc: "small and kaccha", item: "Mud" },
            { type: "house", name: "Pucca House", desc: "strong", item: "Bricks" },
            
            // Chapter 9 Data
            { type: "school", name: "Classroom", act: "study", item: "Blackboard" },
            { type: "school", name: "Playground", act: "play", item: "Swings" },
            { type: "school", name: "Library", act: "read books", item: "Books" },
            { type: "rule", name: "On Time", desc: "Come to school late?", ans: "No" },
            { type: "rule", name: "Respect", desc: "Listen to teacher?", ans: "Yes" },

            // Chapter 10 Data
            { type: "obj", name: "Chair", act: "sit on", emoji: "ü™ë" },
            { type: "obj", name: "Pencil", act: "write with", emoji: "‚úèÔ∏è" },
            { type: "obj", name: "Bag", act: "carry books in", emoji: "üéí" },
            { type: "obj", name: "Book", act: "read", emoji: "üìö" }
        ];

        function generatePool() {
            let pool = [];
            
            // Generate "Where do we...?" questions
            concepts.filter(c => c.act).forEach(c => {
                pool.push({ q: `Where do we ${c.act}?`, ans: c.name, opts: [c.name, "Garden", "Road", "Shop"] });
            });

            // Generate "What is inside...?" questions
            concepts.filter(c => c.item).forEach(c => {
                pool.push({ q: `We see ${c.item} in the...`, ans: c.name, opts: [c.name, "Sky", "Water"] });
            });

            // Generate "True/False" for Uses
            concepts.filter(c => c.act).forEach(c => {
                pool.push({ q: `Do we ${c.act} in the ${c.name}?`, ans: "Yes", opts: ["Yes", "No"] });
                pool.push({ q: `Do we ${c.act} in the Toilet?`, ans: "No", opts: ["Yes", "No"] });
            });

            // Generate Object ID questions
            concepts.filter(c => c.type === 'obj').forEach(c => {
                pool.push({ q: `Identify: ${c.emoji}`, ans: c.name, opts: [c.name, "Table", "Car"] });
            });

            // Add Generic Logic Questions
            pool.push(
                {q: "A hut is a...", ans: "Small House", opts: ["Small House", "Big Building"]},
                {q: "A Pucca house is made of...", ans: "Bricks", opts: ["Bricks", "Paper"]},
                {q: "We should keep our school...", ans: "Clean", opts: ["Clean", "Dirty"]},
                {q: "We throw waste in...", ans: "Dustbin", opts: ["Dustbin", "Bed"]},
                {q: "Who teaches in school?", ans: "Teacher", opts: ["Teacher", "Doctor"]},
                {q: "Do we sleep in the kitchen?", ans: "No", opts: ["No", "Yes"]},
                {q: "Do we cook in the bathroom?", ans: "No", opts: ["No", "Yes"]}
            );

            // Shuffle
            return pool.sort(() => 0.5 - Math.random());
        }

        // --- 5. QUIZ ENGINE ---
        let qIndex = 0;
        let score = 0;
        let wrong = 0;
        let currentPool = [];
        const totalQ = 10; // Number of questions per session

        function startPractice() {
            currentPool = generatePool().slice(0, totalQ);
            qIndex = 0; score = 0; wrong = 0;
            updateStats();
            document.getElementById('quiz-modal').style.display = 'flex';
            document.getElementById('end-screen').style.display = 'none';
            document.getElementById('quiz-area').style.display = 'block';
            loadQuestion();
        }

        function loadQuestion() {
            if(qIndex >= totalQ) { showResults(); return; }
            
            const q = currentPool[qIndex];
            document.getElementById('q-text').innerText = q.q;
            document.getElementById('q-num').innerText = qIndex + 1;
            
            // TTS
            speak(q.q);

            const grid = document.getElementById('opt-grid');
            grid.innerHTML = '';
            
            // Shuffle options logic (pick correct + random distractors)
            let opts = [q.ans];
            let distractors = q.opts.filter(o => o !== q.ans);
            opts = opts.concat(distractors.slice(0, 1)); // Take 1 distractor for 2 options, or more if needed
            if(q.opts.length > 2) opts = q.opts.slice(0,4); // If predefined list is long

            opts.sort(() => 0.5 - Math.random());

            opts.forEach(o => {
                const btn = document.createElement('button');
                btn.className = 'opt-btn';
                btn.innerText = o;
                btn.onclick = () => handleAnswer(btn, o, q.ans);
                grid.appendChild(btn);
            });
        }

        function speakQuestion() {
            speak(document.getElementById('q-text').innerText);
        }

        function handleAnswer(btn, selected, correct) {
            // Disable all buttons
            document.querySelectorAll('.opt-btn').forEach(b => b.disabled = true);

            if(selected === correct) {
                btn.style.background = '#6BCB77';
                btn.style.borderColor = '#6BCB77';
                btn.style.color = 'white';
                score++;
                speak("Excellent!");
            } else {
                btn.style.background = '#FF6B6B';
                btn.style.borderColor = '#FF6B6B';
                btn.style.color = 'white';
                wrong++;
                speak("Oops! The answer is " + correct);
                
                // Highlight correct
                document.querySelectorAll('.opt-btn').forEach(b => {
                    if(b.innerText === correct) {
                        b.style.background = '#eee';
                        b.style.borderColor = '#6BCB77';
                        b.style.color = '#6BCB77';
                    }
                });
            }
            updateStats();
            setTimeout(() => { qIndex++; loadQuestion(); }, 2000);
        }

        function updateStats() {
            document.getElementById('score').innerText = score;
            document.getElementById('wrong').innerText = wrong;
        }

        function showResults() {
            document.getElementById('quiz-area').style.display = 'none';
            document.getElementById('end-screen').style.display = 'block';
            
            const pct = (score / totalQ) * 100;
            let stars = "‚≠ê";
            let msg = "Keep Trying!";
            
            if(pct >= 90) { stars = "‚≠ê‚≠ê‚≠ê‚≠ê"; msg = "Super Star! üèÜ"; }
            else if(pct >= 75) { stars = "‚≠ê‚≠ê‚≠ê"; msg = "Great Job! üéâ"; }
            else if(pct >= 50) { stars = "‚≠ê‚≠ê"; msg = "Good Effort! üëç"; }

            document.getElementById('final-stars').innerText = stars;
            document.getElementById('final-msg').innerText = msg;
            document.getElementById('final-score').innerText = pct;
            speak(msg);
        }

        function closeQuiz() {
            document.getElementById('quiz-modal').style.display = 'none';
        }

    </script>
</body>
</html>