<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Chapter 12: Speaking & Listening | Class 2 English</title>
    <style>
        /* üé® THEME: Fun Classroom */
        :root {
            --bg-color: #E3F2FD;      /* Light Blue */
            --primary: #FF6F00;       /* Orange */
            --secondary: #0091EA;     /* Blue */
            --accent: #00C853;        /* Green */
            --wrong: #D50000;         /* Red */
            --card-bg: #FFFFFF;
            --font: 'Comic Sans MS', 'Comic Neue', cursive, sans-serif;
            --radius: 20px;
            --shadow: 0 8px 0 rgba(0,0,0,0.1);
        }

        * { box-sizing: border-box; user-select: none; -webkit-tap-highlight-color: transparent; }

        body {
            font-family: var(--font);
            background-color: var(--bg-color);
            margin: 0;
            padding: 0;
            display: flex;
            flex-direction: column;
            min-height: 100vh;
            color: #333;
        }

        /* üü¢ HEADER */
        header {
            background: #FFEB3B;
            color: #333;
            padding: 15px;
            text-align: center;
            border-bottom: 5px solid #FBC02D;
            box-shadow: 0 4px 10px rgba(0,0,0,0.15);
            position: sticky;
            top: 0;
            z-index: 100;
        }

        h1 { margin: 0; font-size: 1.5rem; color: #D84315; text-shadow: 1px 1px 0 #fff; }
        .subtitle { font-size: 0.9rem; margin-top: 5px; opacity: 0.8; font-weight: bold; }

        /* üß≠ CONTAINER */
        .container {
            flex: 1;
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
            width: 100%;
        }

        /* üÉè MENU GRID */
        .menu-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 15px;
        }

        .menu-card {
            background: white;
            border-radius: var(--radius);
            padding: 20px;
            text-align: center;
            border: 4px solid transparent;
            box-shadow: var(--shadow);
            cursor: pointer;
            transition: transform 0.2s;
            position: relative;
        }
        
        .menu-card:active { transform: scale(0.96); box-shadow: 0 3px 0 rgba(0,0,0,0.1); }
        .menu-card h3 { margin: 10px 0 0; color: #37474F; font-size: 1.1rem; }
        .icon { font-size: 2.8rem; display: block; margin-bottom: 5px; }

        /* Themes per section */
        .c-intro { border-color: #2979FF; background: #E3F2FD; }
        .c-daily { border-color: #00E676; background: #E8F5E9; }
        .c-conv { border-color: #FFEA00; background: #FFFDE7; }
        .c-show { border-color: #FF4081; background: #FCE4EC; }
        .c-role { border-color: #AA00FF; background: #F3E5F5; }
        .c-rhyme { border-color: #FF6D00; background: #FFF3E0; }
        .c-game { border-color: #37474F; background: #ECEFF1; }

        /* üé§ ACTIVITY AREA */
        #activity-screen { display: none; }
        
        .learn-box {
            background: white;
            padding: 20px;
            border-radius: 20px;
            border-left: 8px solid var(--secondary);
            margin-bottom: 20px;
            box-shadow: 0 4px 10px rgba(0,0,0,0.05);
        }
        .learn-title { font-weight: bold; font-size: 1.2rem; color: var(--secondary); margin-bottom: 10px; display: block; }
        .example-line { font-size: 1.1rem; margin: 8px 0; display: block; }
        
        .question-card {
            background: white;
            padding: 20px;
            border-radius: var(--radius);
            box-shadow: var(--shadow);
            text-align: center;
            border: 3px solid #eee;
        }

        .q-text { font-size: 1.4rem; font-weight: bold; margin-bottom: 20px; color: #444; }
        
        .options-grid { display: grid; grid-template-columns: 1fr; gap: 12px; }
        @media (min-width: 500px) { .options-grid { grid-template-columns: 1fr 1fr; } }

        .option-btn {
            background: #F5F5F5; border: 2px solid #E0E0E0;
            padding: 15px; border-radius: 15px;
            font-size: 1.1rem; font-family: var(--font);
            cursor: pointer; transition: 0.2s; color: #333;
        }
        .option-btn:active { transform: translateY(4px); box-shadow: none; }

        .correct-anim { background: var(--accent) !important; color: white; border-color: #009624 !important; }
        .wrong-anim { background: var(--wrong) !important; color: white; border-color: #B71C1C !important; }

        /* üîä AUDIO BUTTON */
        .audio-btn {
            background: var(--secondary); color: white; border: none;
            padding: 8px 15px; border-radius: 20px; font-size: 0.9rem;
            cursor: pointer; display: inline-block; margin-bottom: 15px;
        }

        /* üìä SCOREBOARD */
        .scoreboard {
            background: white; border-top: 4px solid var(--secondary);
            padding: 10px 20px; display: flex; justify-content: space-between;
            align-items: center; position: sticky; bottom: 0;
            box-shadow: 0 -5px 15px rgba(0,0,0,0.1); z-index: 200;
        }
        .score-item span { font-weight: bold; font-size: 1.2rem; margin-left: 5px; }

        /* UTILS */
        .nav-btn {
            background: #333; color: white; border: none;
            padding: 12px 30px; border-radius: 50px; font-size: 1rem;
            font-family: var(--font); cursor: pointer; width: 100%; margin-top: 15px;
        }
        .back-btn { background: none; border: 2px solid #555; padding: 5px 15px; border-radius: 20px; cursor: pointer; margin-bottom: 10px; }
        .hidden { display: none; }

        /* End Screen */
        #end-screen { display: none; text-align: center; padding: 40px; }
        .big-score { font-size: 4rem; color: var(--primary); margin: 20px 0; font-weight: bold; }

    </style>
</head>
<body>

    <header>
        <h1>üó£Ô∏è Talk & Listen</h1>
        <div class="subtitle">Chapter 12: Fun Learning</div>
    </header>

    <div class="container">
        
        <div id="menu-screen">
            <div style="background:white; padding:15px; border-radius:15px; border-left:6px solid var(--primary); margin-bottom:20px;">
                <b>üëã Hello Class 2!</b> Let's practice speaking, listening and playing games! üé§
            </div>

            <div class="menu-grid">
                <div class="menu-card c-intro" onclick="startSection('intro')">
                    <span class="icon">üôã</span>
                    <h3>About Me</h3>
                    <small>Self Introduction</small>
                </div>
                <div class="menu-card c-daily" onclick="startSection('daily')">
                    <span class="icon">üè´</span>
                    <h3>Daily Talk</h3>
                    <small>School & Home</small>
                </div>
                <div class="menu-card c-conv" onclick="startSection('conversation')">
                    <span class="icon">üí¨</span>
                    <h3>Chat Time</h3>
                    <small>Conversations</small>
                </div>
                <div class="menu-card c-show" onclick="startSection('showtell')">
                    <span class="icon">üçé</span>
                    <h3>Show & Tell</h3>
                    <small>Describe It</small>
                </div>
                <div class="menu-card c-role" onclick="startSection('roleplay')">
                    <span class="icon">üé≠</span>
                    <h3>Role Play</h3>
                    <small>Doctor, Shop...</small>
                </div>
                <div class="menu-card c-rhyme" onclick="startSection('rhymes')">
                    <span class="icon">üé∂</span>
                    <h3>Rhymes</h3>
                    <small>With Actions</small>
                </div>
                <div class="menu-card c-game" onclick="startSection('games')">
                    <span class="icon">üéÆ</span>
                    <h3>Fun Zone</h3>
                    <small>Grammar Games</small>
                </div>
            </div>
        </div>

        <div id="activity-screen">
            <button class="back-btn" onclick="goHome()">üè† Home</button>
            
            <div id="learn-display" class="learn-box">
                <span id="l-title" class="learn-title">Topic</span>
                <div id="l-content"></div>
                <button class="nav-btn" style="background:var(--accent)" onclick="startQuiz()">üëâ Start Practice</button>
            </div>

            <div id="quiz-container" class="hidden">
                <div style="text-align:right; font-size:0.9rem; color:#777; margin-bottom:5px;">
                    Question <span id="q-num">1</span>
                </div>
                
                <div class="question-card">
                    <button class="audio-btn" onclick="readQuestion()">üîä Listen</button>
                    <div id="q-text" class="q-text">Loading...</div>
                    <div id="options-grid" class="options-grid"></div>
                    <div id="feedback" style="height:30px; margin-top:10px; font-weight:bold;"></div>
                </div>
                <button id="next-btn" class="nav-btn hidden" onclick="nextQuestion()">Next ‚û°Ô∏è</button>
            </div>
        </div>

        <div id="end-screen">
            <h1>üéâ Super Speaker!</h1>
            <p>You did a great job!</p>
            <div class="big-score"><span id="final-score">0</span>%</div>
            <p>Correct: <span id="final-c">0</span> | Wrong: <span id="final-w">0</span></p>
            <button class="nav-btn" onclick="goHome()">üè† Play Again</button>
        </div>

    </div>

    <div class="scoreboard">
        <div class="score-item" style="color:var(--accent)">‚úî <span id="score-c">0</span></div>
        <div class="score-item" style="color:#333">üìä <span id="score-p">0%</span></div>
        <div class="score-item" style="color:var(--wrong)">‚ùå <span id="score-w">0</span></div>
    </div>

    <div style="text-align:center; padding:10px; font-size:0.8rem; color:#aaa; background:white;">
        Designed & Created by SHRISHANT YADAV
    </div>

<script>
    /* üß† DATA ENGINE (90+ Questions) */
    const sections = {
        intro: {
            title: "Self Introduction",
            learn: "Practice saying:<br>‚Ä¢ My name is ____.<br>‚Ä¢ I am 7 years old.<br>‚Ä¢ I study in Class 2.<br>‚Ä¢ I like apples.",
            questions: [
                { q: "My name ___ Ravi.", ans: "is", opts: ["is", "are", "am"] },
                { q: "I ___ 7 years old.", ans: "am", opts: ["is", "am", "are"] },
                { q: "I ___ in Class 2.", ans: "study", opts: ["study", "play", "sleep"] },
                { q: "I ___ ice cream.", ans: "like", opts: ["like", "bad", "name"] },
                { q: "My school's ___ is SPS.", ans: "name", opts: ["name", "game", "fame"] },
                { q: "I live ___ Delhi.", ans: "in", opts: ["on", "in", "at"] },
                { q: "My father is a ___.", ans: "doctor", opts: ["doctor", "table", "pen"] },
                { q: "My favorite color is ___.", ans: "Red", opts: ["Red", "Cat", "Run"] },
                { q: "I have a ___.", ans: "brother", opts: ["brother", "sky", "run"] },
                { q: "I am a ___.", ans: "Student", opts: ["Student", "Car", "Tree"] }
            ]
        },
        daily: {
            title: "Daily Use Sentences",
            learn: "‚Ä¢ Good Morning, Teacher!<br>‚Ä¢ May I come in?<br>‚Ä¢ Please help me.<br>‚Ä¢ Thank you!",
            questions: [
                { q: "To enter class: May I ___ in?", ans: "come", opts: ["come", "go", "run"] },
                { q: "In the morning we say: Good ___.", ans: "Morning", opts: ["Night", "Morning"] },
                { q: "When someone helps you, say: ___", ans: "Thank You", opts: ["Sorry", "Thank You"] },
                { q: "If you hurt someone, say: ___", ans: "Sorry", opts: ["Please", "Sorry"] },
                { q: "To ask for water: Please give me ___.", ans: "Water", opts: ["Water", "Book"] },
                { q: "Teacher enters class. You ___ up.", ans: "Stand", opts: ["Stand", "Sleep"] },
                { q: "Before sleeping say: Good ___.", ans: "Night", opts: ["Morning", "Night"] },
                { q: "May I go to the ___?", ans: "Toilet", opts: ["Toilet", "Sky"] },
                { q: "Can I ___ your pencil?", ans: "Borrow", opts: ["Borrow", "Eat"] },
                { q: "___ your hands.", ans: "Wash", opts: ["Wash", "Eat"] },
                { q: "___ your homework.", ans: "Do", opts: ["Do", "Run"] },
                { q: "Be ___ in the library.", ans: "Quiet", opts: ["Loud", "Quiet"] },
                { q: "Please ___ the door.", ans: "Open", opts: ["Open", "Drink"] },
                { q: "Sit ___.", ans: "Down", opts: ["Down", "Up"] },
                { q: "Don't ___ in class.", ans: "Talk", opts: ["Talk", "Study"] }
            ]
        },
        conversation: {
            title: "Simple Conversation",
            learn: "A: How are you?<br>B: I am fine.<br><br>A: What is this?<br>B: This is a book.",
            questions: [
                { q: "A: How are you? <br>B: I am ___.", ans: "fine", opts: ["fine", "bad", "green"] },
                { q: "A: What is your name? <br>B: ___ name is Ali.", ans: "My", opts: ["My", "I", "Me"] },
                { q: "A: Where do you live? <br>B: I live ___ Mumbai.", ans: "in", opts: ["on", "in"] },
                { q: "A: Who is he? <br>B: He is my ___.", ans: "friend", opts: ["friend", "book"] },
                { q: "A: Do you like milk? <br>B: Yes, I ___.", ans: "do", opts: ["do", "am"] },
                { q: "A: Can you play? <br>B: No, I ___.", ans: "cannot", opts: ["cannot", "yes"] },
                { q: "A: Goodbye! <br>B: See you ___.", ans: "later", opts: ["later", "never"] },
                { q: "A: Happy Birthday! <br>B: Thank ___.", ans: "you", opts: ["you", "me"] },
                { q: "A: Is this a pen? <br>B: No, it ___.", ans: "is not", opts: ["is", "is not"] },
                { q: "A: Where is Mom? <br>B: She is in the ___.", ans: "kitchen", opts: ["kitchen", "sky"] },
                { q: "A: Whose bag is this? <br>B: It is ___.", ans: "mine", opts: ["mine", "me"] },
                { q: "A: Are you hungry? <br>B: Yes, I want ___.", ans: "food", opts: ["food", "water"] },
                { q: "A: Let's play! <br>B: Okay, let's ___.", ans: "go", opts: ["go", "stop"] },
                { q: "A: What time is it? <br>B: It is 5 ___.", ans: "o'clock", opts: ["o'clock", "kilos"] },
                { q: "A: Nice to meet you. <br>B: Nice to meet you ___.", ans: "too", opts: ["too", "two"] }
            ]
        },
        showtell: {
            title: "Show & Tell",
            learn: "Describe things:<br>‚Ä¢ This is a ball.<br>‚Ä¢ It is round.<br>‚Ä¢ It is red.<br>‚Ä¢ I play with it.",
            questions: [
                { q: "Show: üçé <br>This is an ___.", ans: "Apple", opts: ["Apple", "Ball"] },
                { q: "Show: üçé <br>It is ___ in color.", ans: "Red", opts: ["Red", "Blue"] },
                { q: "Show: ‚öΩ <br>This is a ___.", ans: "Ball", opts: ["Ball", "Box"] },
                { q: "Show: ‚öΩ <br>It is ___ shape.", ans: "Round", opts: ["Round", "Square"] },
                { q: "Show: üìñ <br>This is a book. I ___ it.", ans: "Read", opts: ["Read", "Eat"] },
                { q: "Show: üß∏ <br>This is my soft ___.", ans: "Toy", opts: ["Toy", "Pen"] },
                { q: "Show: üöå <br>This is a bus. It is ___.", ans: "Yellow", opts: ["Yellow", "Green"] },
                { q: "Show: üê± <br>This is a cat. It says ___.", ans: "Meow", opts: ["Meow", "Moo"] },
                { q: "Show: üéí <br>This is my bag. I keep ___ in it.", ans: "Books", opts: ["Water", "Books"] },
                { q: "Show: üçå <br>This is a banana. It is ___.", ans: "Sweet", opts: ["Spicy", "Sweet"] }
            ]
        },
        roleplay: {
            title: "Role Play",
            learn: "Doctor: What happened?<br>Patient: I have a fever.<br><br>Shopkeeper: What do you want?<br>Customer: I want chocolate.",
            questions: [
                { q: "Doctor: Open your ___.", ans: "Mouth", opts: ["Mouth", "Bag"] },
                { q: "Patient: My stomach ___.", ans: "Hurts", opts: ["Hurts", "Sings"] },
                { q: "Shopkeeper: Do you want chips? <br>You: Yes, ___.", ans: "Please", opts: ["Please", "No"] },
                { q: "Teacher: Show me your ___.", ans: "Homework", opts: ["Homework", "Toy"] },
                { q: "Driver: Wear your ___.", ans: "Seatbelt", opts: ["Seatbelt", "Hat"] },
                { q: "Mom: Eat your ___.", ans: "Food", opts: ["Food", "Pencil"] },
                { q: "Barber: I will cut your ___.", ans: "Hair", opts: ["Hair", "Finger"] },
                { q: "Tailor: I will stitch your ___.", ans: "Shirt", opts: ["Shirt", "Shoe"] },
                { q: "Police: Stop the ___.", ans: "Car", opts: ["Car", "Bird"] },
                { q: "Friend: Let's share my ___.", ans: "Lunch", opts: ["Lunch", "Head"] },
                { q: "Pilot: I fly the ___.", ans: "Plane", opts: ["Plane", "Bus"] },
                { q: "Baker: I bake ___.", ans: "Cake", opts: ["Cake", "Rice"] },
                { q: "Dentist: Brush your ___.", ans: "Teeth", opts: ["Teeth", "Hair"] },
                { q: "Farmer: I grow ___.", ans: "Crops", opts: ["Crops", "Cars"] },
                { q: "Chef: I cook ___.", ans: "Food", opts: ["Food", "Books"] }
            ]
        },
        rhymes: {
            title: "Rhymes & Actions",
            learn: "‚Ä¢ Clap your hands üëè<br>‚Ä¢ Stomp your feet ü¶∂<br>‚Ä¢ Turn around üîÑ<br>‚Ä¢ Jump up high ü¶ò",
            questions: [
                { q: "Action: ___ your hands. üëè", ans: "Clap", opts: ["Clap", "Close"] },
                { q: "Action: ___ your feet. ü¶∂", ans: "Stomp", opts: ["Stomp", "Eat"] },
                { q: "Action: Turn ___. üîÑ", ans: "Around", opts: ["Around", "Up"] },
                { q: "Action: Jump up ___. ü¶ò", ans: "High", opts: ["High", "Low"] },
                { q: "Action: Touch your ___. üëÉ", ans: "Nose", opts: ["Nose", "Sky"] },
                { q: "Action: Close your ___. ü´£", ans: "Eyes", opts: ["Eyes", "Ears"] },
                { q: "Action: Wiggle your ___. üñêÔ∏è", ans: "Fingers", opts: ["Fingers", "Hair"] },
                { q: "Row, row, row your ___.", ans: "Boat", opts: ["Boat", "Car"] },
                { q: "Twinkle twinkle little ___.", ans: "Star", opts: ["Star", "Ball"] },
                { q: "Baa Baa Black ___.", ans: "Sheep", opts: ["Sheep", "Dog"] }
            ]
        },
        games: {
            title: "Fun Zone",
            learn: "Let's play word games!<br>‚Ä¢ Opposites (Hot x Cold)<br>‚Ä¢ Pairs (Bat & Ball)<br>‚Ä¢ Plurals (Cat -> Cats)",
            questions: [
                { q: "Opposite: Hot x ___", ans: "Cold", opts: ["Cold", "Warm", "Fire"] },
                { q: "Opposite: Big x ___", ans: "Small", opts: ["Small", "Tall", "Fat"] },
                { q: "Pair: Bat & ___", ans: "Ball", opts: ["Ball", "Spoon", "Chair"] },
                { q: "Pair: Cup & ___", ans: "Saucer", opts: ["Saucer", "Fork", "Pen"] },
                { q: "One Cat. Two ___.", ans: "Cats", opts: ["Cats", "Cat", "Cates"] },
                { q: "One Box. Two ___.", ans: "Boxes", opts: ["Boxes", "Boxs", "Box"] },
                { q: "Male: Boy. Female: ___", ans: "Girl", opts: ["Girl", "Man", "Lady"] },
                { q: "King & ___", ans: "Queen", opts: ["Queen", "Prince", "Lady"] },
                { q: "Sun is to Day. Moon is to ___.", ans: "Night", opts: ["Night", "Light", "Dark"] },
                { q: "Fish swim. Birds ___.", ans: "Fly", opts: ["Fly", "Run", "Walk"] },
                { q: "Find odd one out:", ans: "Car", opts: ["Apple", "Banana", "Car"] },
                { q: "Find odd one out:", ans: "Sleep", opts: ["Red", "Blue", "Sleep"] },
                { q: "Rhymes with Cat:", ans: "Bat", opts: ["Bat", "Dog", "Pig"] },
                { q: "Rhymes with Pen:", ans: "Hen", opts: ["Hen", "Pin", "Pan"] },
                { q: "A dog lives in a ___.", ans: "Kennel", opts: ["Kennel", "Den", "Nest"] },
                { q: "A bird lives in a ___.", ans: "Nest", opts: ["Nest", "Cave", "Water"] },
                { q: "Baby dog is a ___.", ans: "Puppy", opts: ["Puppy", "Kitten", "Calf"] },
                { q: "Baby cat is a ___.", ans: "Kitten", opts: ["Kitten", "Cub", "Foal"] },
                { q: "I write with a ___.", ans: "Pencil", opts: ["Pencil", "Spoon", "Stick"] },
                { q: "I eat with a ___.", ans: "Spoon", opts: ["Spoon", "Pencil", "Comb"] }
            ]
        }
    };

    /* üéÆ GAME LOGIC */
    let currentSection = '';
    let quizQueue = [];
    let qIndex = 0;
    let score = { c: 0, w: 0 };
    let canClick = true;

    // üîä AUDIO ENGINE
    function speak(text) {
        window.speechSynthesis.cancel();
        const msg = new SpeechSynthesisUtterance(text);
        msg.lang = 'en-US';
        msg.rate = 0.9;
        msg.pitch = 1.1;
        window.speechSynthesis.speak(msg);
    }

    function readQuestion() {
        if (quizQueue[qIndex]) {
            let text = quizQueue[qIndex].q.replace(/<br>/g, ". ").replace(/_/g, "blank");
            speak(text);
        }
    }

    /* üß≠ NAVIGATION */
    function goHome() {
        document.getElementById('activity-screen').style.display = 'none';
        document.getElementById('end-screen').style.display = 'none';
        document.getElementById('menu-screen').style.display = 'block';
        window.speechSynthesis.cancel();
    }

    function startSection(key) {
        currentSection = key;
        const data = sections[key];
        
        document.getElementById('menu-screen').style.display = 'none';
        document.getElementById('activity-screen').style.display = 'block';
        
        // Show Learning Part
        document.getElementById('learn-display').style.display = 'block';
        document.getElementById('quiz-container').classList.add('hidden');
        
        document.getElementById('l-title').innerText = data.title;
        document.getElementById('l-content').innerHTML = data.learn;

        // Prep Quiz
        quizQueue = shuffle([...data.questions]);
        qIndex = 0;
        score = { c: 0, w: 0 };
        updateScoreboard();
    }

    function startQuiz() {
        document.getElementById('learn-display').style.display = 'none';
        document.getElementById('quiz-container').classList.remove('hidden');
        loadQuestion();
    }

    /* üéÆ QUIZ ENGINE */
    function loadQuestion() {
        if (qIndex >= quizQueue.length) {
            endGame();
            return;
        }

        const q = quizQueue[qIndex];
        const qText = document.getElementById('q-text');
        const optGrid = document.getElementById('options-grid');
        const nextBtn = document.getElementById('next-btn');
        const feedback = document.getElementById('feedback');
        const qNum = document.getElementById('q-num');

        qText.innerHTML = q.q;
        qNum.innerText = qIndex + 1;
        optGrid.innerHTML = '';
        nextBtn.classList.add('hidden');
        feedback.innerText = '';
        canClick = true;

        // Auto read question
        setTimeout(readQuestion, 500);

        // Options
        let options = shuffle([...q.opts]);
        options.forEach(opt => {
            const btn = document.createElement('button');
            btn.className = 'option-btn';
            btn.innerText = opt;
            btn.onclick = () => checkAnswer(btn, opt, q.ans);
            optGrid.appendChild(btn);
        });
    }

    function checkAnswer(btn, selected, correct) {
        if (!canClick) return;
        canClick = false;

        const feedback = document.getElementById('feedback');
        const nextBtn = document.getElementById('next-btn');

        if (selected === correct) {
            score.c++;
            btn.classList.add('correct-anim');
            const rewards = ["üåü Great Speaker!", "üé§ Excellent!", "üéâ Super!", "‚ú® Awesome!"];
            const msg = rewards[Math.floor(Math.random() * rewards.length)];
            feedback.innerHTML = `<span style='color:var(--accent)'>${msg}</span>`;
            speak("Correct! " + selected);
        } else {
            score.w++;
            btn.classList.add('wrong-anim');
            const comforts = ["üôÇ Try Again", "üí™ Speak Slowly", "‚ùå Listen Once More"];
            const msg = comforts[Math.floor(Math.random() * comforts.length)];
            feedback.innerHTML = `<span style='color:var(--wrong)'>${msg}. Answer: ${correct}</span>`;
            speak("Try again. The answer is " + correct);
        }

        updateScoreboard();
        nextBtn.classList.remove('hidden');
    }

    function nextQuestion() {
        qIndex++;
        loadQuestion();
    }

    function updateScoreboard() {
        document.getElementById('score-c').innerText = score.c;
        document.getElementById('score-w').innerText = score.w;
        const total = score.c + score.w;
        const pct = total === 0 ? 0 : Math.round((score.c / total) * 100);
        document.getElementById('score-p').innerText = pct + "%";
    }

    function endGame() {
        document.getElementById('activity-screen').style.display = 'none';
        document.getElementById('end-screen').style.display = 'block';
        
        const total = score.c + score.w;
        const pct = total === 0 ? 0 : Math.round((score.c / total) * 100);
        
        document.getElementById('final-score').innerText = pct;
        document.getElementById('final-c').innerText = score.c;
        document.getElementById('final-w').innerText = score.w;
    }

    function shuffle(array) {
        return array.sort(() => Math.random() - 0.5);
    }
</script>

</body>
</html>