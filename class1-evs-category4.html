<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Plants & Nature - Class 1 EVS</title>
    <link href="https://fonts.googleapis.com/css2?family=Fredoka+One&family=Nunito:wght@400;700;800&display=swap" rel="stylesheet">
    <style>
        :root {
            --green: #6BCB77;
            --dark-green: #2ecc71;
            --yellow: #FFD93D;
            --orange: #FF6B6B;
            --blue: #4D96FF;
            --brown: #8D6E63;
            --bg: #E8F5E9;
            --white: #ffffff;
            --text: #2D3436;
        }

        body {
            font-family: 'Nunito', sans-serif;
            background-color: var(--bg);
            color: var(--text);
            margin: 0;
            padding: 0;
            padding-bottom: 80px;
            user-select: none;
            overflow-x: hidden;
        }

        h1, h2, h3, h4 { font-family: 'Fredoka One', cursive; margin: 0; }

        /* --- HERO HEADER --- */
        .hero {
            background: linear-gradient(135deg, var(--green), var(--dark-green));
            color: var(--white);
            text-align: center;
            padding: 30px 20px;
            border-bottom-left-radius: 40px;
            border-bottom-right-radius: 40px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            position: relative;
        }
        .hero h1 { font-size: 2.2rem; animation: bounce 2s infinite; }
        .hero p { font-size: 1.2rem; opacity: 0.9; margin-top: 5px; }

        /* --- CONTAINER --- */
        .container { max-width: 800px; margin: 25px auto; padding: 0 15px; }

        /* --- ACCORDION CHAPTERS --- */
        .chapter-card {
            background: var(--white);
            border-radius: 20px;
            margin-bottom: 20px;
            box-shadow: 0 5px 10px rgba(0,0,0,0.05);
            overflow: hidden;
            border: 3px solid transparent;
            transition: all 0.3s ease;
        }

        .chapter-header {
            padding: 20px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: space-between;
            background: #fff;
            transition: background 0.3s;
        }
        .chapter-header:hover { background-color: #f1f8e9; }

        .icon-box { font-size: 2.8rem; margin-right: 15px; animation: sway 3s infinite ease-in-out; display:inline-block; }
        .title-box h2 { font-size: 1.4rem; color: var(--text); }
        .title-box span { font-size: 0.95rem; color: #666; font-weight: bold; }
        .arrow { font-size: 1.5rem; color: var(--green); transition: transform 0.3s; }

        /* Chapter Specific Borders */
        .ch11 { border-color: var(--green); }
        .ch12 { border-color: var(--orange); }
        .ch13 { border-color: var(--blue); }

        /* Content Area */
        .chapter-content {
            display: none;
            padding: 20px;
            background: #fff;
            border-top: 2px dashed #eee;
        }
        .chapter-content.active { display: block; animation: slideDown 0.4s ease-out; }

        /* --- LEARNING COMPONENTS --- */
        .note-card {
            background: #f9fbe7;
            border-left: 6px solid var(--green);
            padding: 15px;
            margin: 10px 0;
            border-radius: 8px;
            font-size: 1.1rem;
        }
        
        .hinglish {
            display: block;
            color: #7f8c8d;
            font-size: 0.9em;
            font-style: italic;
            margin-top: 4px;
        }

        /* Visual Grid */
        .visual-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(110px, 1fr));
            gap: 15px;
            margin: 20px 0;
        }
        .v-card {
            background: #fff;
            border: 2px solid #eee;
            border-radius: 15px;
            padding: 10px;
            text-align: center;
            transition: transform 0.2s;
        }
        .v-card:hover { transform: scale(1.05); border-color: var(--yellow); }
        .v-card div { font-size: 3rem; margin-bottom: 5px; }
        .v-card strong { color: var(--green); display: block; }

        /* Buttons */
        .btn-speak {
            background: var(--blue);
            color: white;
            border: none;
            padding: 8px 18px;
            border-radius: 30px;
            font-weight: bold;
            font-size: 0.9rem;
            cursor: pointer;
            display: inline-flex;
            align-items: center;
            gap: 8px;
            margin-bottom: 10px;
            box-shadow: 0 4px #2980b9;
        }
        .btn-speak:active { transform: translateY(4px); box-shadow: none; }

        /* Mini Think Zone */
        .mini-zone {
            background: #e3f2fd;
            padding: 15px;
            border-radius: 15px;
            margin-top: 20px;
            text-align: center;
            border: 2px solid var(--blue);
        }
        .mini-btn {
            background: white;
            border: 2px solid var(--blue);
            color: var(--blue);
            padding: 10px 15px;
            margin: 5px;
            border-radius: 12px;
            font-weight: bold;
            cursor: pointer;
            font-size: 1rem;
            min-width: 80px;
        }
        .mini-btn.correct { background: var(--green); color: white; border-color: var(--green); }
        .mini-btn.wrong { background: var(--orange); color: white; border-color: var(--orange); }

        /* --- PRACTICE BUTTON --- */
        .practice-trigger {
            background: linear-gradient(45deg, #FF9966, #FF5E62);
            color: white;
            width: 100%;
            padding: 18px;
            font-size: 1.4rem;
            border: none;
            border-radius: 20px;
            cursor: pointer;
            font-family: 'Fredoka One', cursive;
            margin-top: 30px;
            box-shadow: 0 8px 20px rgba(255, 94, 98, 0.4);
            animation: pulse 2s infinite;
        }

        /* --- QUIZ MODAL --- */
        #quiz-modal {
            display: none;
            position: fixed;
            top: 0; left: 0; width: 100%; height: 100%;
            background: rgba(0,0,0,0.9);
            z-index: 1000;
            justify-content: center;
            align-items: center;
            flex-direction: column;
        }
        .quiz-box {
            background: white;
            width: 90%;
            max-width: 500px;
            padding: 25px;
            border-radius: 25px;
            text-align: center;
            position: relative;
            box-shadow: 0 0 20px rgba(255,255,255,0.2);
        }
        .score-panel {
            display: flex;
            justify-content: space-between;
            background: #f1f1f1;
            padding: 10px;
            border-radius: 10px;
            margin-bottom: 20px;
            font-weight: bold;
            color: var(--text);
        }
        .q-text { font-size: 1.3rem; font-weight: bold; margin: 15px 0; color: var(--text); }
        .opt-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 10px; }
        .opt-btn {
            background: white;
            border: 3px solid #eee;
            padding: 15px;
            border-radius: 15px;
            font-size: 1.1rem;
            font-weight: bold;
            cursor: pointer;
            color: var(--text);
            transition: 0.2s;
        }

        /* Footer */
        footer {
            background: var(--text);
            color: white;
            text-align: center;
            padding: 15px;
            position: fixed;
            bottom: 0;
            width: 100%;
            font-size: 0.8rem;
            z-index: 100;
        }

        /* Animations */
        @keyframes bounce { 0%, 20%, 50%, 80%, 100% {transform: translateY(0);} 40% {transform: translateY(-10px);} 60% {transform: translateY(-5px);} }
        @keyframes sway { 0% {transform: rotate(0deg);} 25% {transform: rotate(10deg);} 75% {transform: rotate(-10deg);} 100% {transform: rotate(0deg);} }
        @keyframes slideDown { from {opacity:0; transform:translateY(-15px);} to {opacity:1; transform:translateY(0);} }
        @keyframes pulse { 0% {transform:scale(1);} 50% {transform:scale(1.02);} 100% {transform:scale(1);} }

    </style>
</head>
<body>

    <div class="hero">
        <h1>üå± Plants & Nature</h1>
        <p>Paudhe Hamare Aas Paas</p>
    </div>

    <div class="container">

        <div class="chapter-card ch11">
            <div class="chapter-header" onclick="toggleChapter('c11')">
                <div style="display:flex; align-items:center;">
                    <span class="icon-box">üå≥</span>
                    <div class="title-box">
                        <h2>Plants Around Us</h2>
                        <span>Paudhe Hamare Aas Paas</span>
                    </div>
                </div>
                <span class="arrow">‚ñº</span>
            </div>
            <div id="c11" class="chapter-content">
                <button class="btn-speak" onclick="speakDiv('notes-c11')">üîä Listen to Notes</button>
                <div id="notes-c11">
                    <div class="note-card">
                        <p>‚Ä¢ <b>Trees:</b> Big and tall plants.</p>
                        <span class="hinglish">Ped bahut bade aur lambe hote hain.</span>
                    </div>
                    <div class="note-card">
                        <p>‚Ä¢ <b>Shrubs:</b> Small plants like Rose.</p>
                        <span class="hinglish">Shrubs chhote paudhe hote hain.</span>
                    </div>
                    <div class="note-card">
                        <p>‚Ä¢ <b>Herbs:</b> Very small and soft plants.</p>
                        <span class="hinglish">Herbs bahut chhote aur naram hote hain.</span>
                    </div>
                </div>

                <h3>Examples üñºÔ∏è</h3>
                <div class="visual-grid">
                    <div class="v-card"><div>ü•≠</div><strong>Mango Tree</strong></div>
                    <div class="v-card"><div>üåπ</div><strong>Rose (Shrub)</strong></div>
                    <div class="v-card"><div>üçÉ</div><strong>Tulsi (Herb)</strong></div>
                    <div class="v-card"><div>üå±</div><strong>Grass</strong></div>
                </div>

                <div class="mini-zone">
                    <h3>Mini Think Zone ü§î</h3>
                    <p>Q: Is a Mango tree small?</p>
                    <button class="mini-btn" onclick="checkMini(this, false, 'No. Trees are Big.')">Yes</button>
                    <button class="mini-btn" onclick="checkMini(this, true, 'Correct! Trees are Big.')">No</button>
                </div>
            </div>
        </div>

        <div class="chapter-card ch12">
            <div class="chapter-header" onclick="toggleChapter('c12')">
                <div style="display:flex; align-items:center;">
                    <span class="icon-box">üåª</span>
                    <div class="title-box">
                        <h2>Parts of a Plant</h2>
                        <span>Paudhe ke Hisse</span>
                    </div>
                </div>
                <span class="arrow">‚ñº</span>
            </div>
            <div id="c12" class="chapter-content">
                <button class="btn-speak" onclick="speakDiv('notes-c12')">üîä Listen to Notes</button>
                <div id="notes-c12">
                    <div class="note-card">
                        <p>‚Ä¢ <b>Root:</b> Grows under the soil.</p>
                        <span class="hinglish">Root mitti ke andar hoti hai.</span>
                    </div>
                    <div class="note-card">
                        <p>‚Ä¢ <b>Stem:</b> Holds the plant straight.</p>
                        <span class="hinglish">Stem paudhe ko seedha rakhti hai.</span>
                    </div>
                    <div class="note-card">
                        <p>‚Ä¢ <b>Leaf:</b> Green part that makes food.</p>
                        <span class="hinglish">Patte hara rang ke hote hain.</span>
                    </div>
                    <div class="note-card">
                        <p>‚Ä¢ <b>Flower:</b> Beautiful and colorful part.</p>
                        <span class="hinglish">Phool sundar aur rangeen hote hain.</span>
                    </div>
                </div>

                <h3>Parts üå∏</h3>
                <div class="visual-grid">
                    <div class="v-card"><div>ü•ú</div><strong>Roots</strong></div>
                    <div class="v-card"><div>üåø</div><strong>Stem</strong></div>
                    <div class="v-card"><div>üçÉ</div><strong>Leaf</strong></div>
                    <div class="v-card"><div>üå∫</div><strong>Flower</strong></div>
                </div>

                <div class="mini-zone">
                    <h3>Mini Think Zone ü§î</h3>
                    <p>Q: Which part is under the soil?</p>
                    <button class="mini-btn" onclick="checkMini(this, true, 'Yes! Roots are under soil.')">Root</button>
                    <button class="mini-btn" onclick="checkMini(this, false, 'No. Flowers are on top.')">Flower</button>
                </div>
            </div>
        </div>

        <div class="chapter-card ch13">
            <div class="chapter-header" onclick="toggleChapter('c13')">
                <div style="display:flex; align-items:center;">
                    <span class="icon-box">üçé</span>
                    <div class="title-box">
                        <h2>Uses of Plants</h2>
                        <span>Paudhon ke Fayde</span>
                    </div>
                </div>
                <span class="arrow">‚ñº</span>
            </div>
            <div id="c13" class="chapter-content">
                <button class="btn-speak" onclick="speakDiv('notes-c13')">üîä Listen to Notes</button>
                <div id="notes-c13">
                    <div class="note-card">
                        <p>‚Ä¢ <b>Food:</b> Fruits and Vegetables.</p>
                        <span class="hinglish">Paudhe hume khana dete hain.</span>
                    </div>
                    <div class="note-card">
                        <p>‚Ä¢ <b>Oxygen:</b> Fresh air to breathe.</p>
                        <span class="hinglish">Paudhe saans lene me madad karte hain.</span>
                    </div>
                    <div class="note-card">
                        <p>‚Ä¢ <b>Wood:</b> For furniture (chairs, tables).</p>
                        <span class="hinglish">Lakdi ped se milti hai.</span>
                    </div>
                    <div class="note-card">
                        <p>‚Ä¢ <b>Medicine:</b> Tulsi and Neem.</p>
                        <span class="hinglish">Kuch paudhe dawa hote hain.</span>
                    </div>
                </div>

                <h3>We Get... üéÅ</h3>
                <div class="visual-grid">
                    <div class="v-card"><div>üçé</div><strong>Fruit</strong></div>
                    <div class="v-card"><div>ü•ï</div><strong>Veggie</strong></div>
                    <div class="v-card"><div>ü™ë</div><strong>Wood</strong></div>
                    <div class="v-card"><div>üíä</div><strong>Medicine</strong></div>
                </div>

                <div class="mini-zone">
                    <h3>Mini Think Zone ü§î</h3>
                    <p>Q: Does Tulsi give medicine?</p>
                    <button class="mini-btn" onclick="checkMini(this, true, 'Yes. Tulsi is medicine.')">Yes</button>
                    <button class="mini-btn" onclick="checkMini(this, false, 'No. Tulsi is very healthy.')">No</button>
                </div>
            </div>
        </div>

        <button class="practice-trigger" onclick="startPractice()">
            Let‚Äôs Play & Practice üåü
        </button>

    </div>

    <div id="quiz-modal">
        <div class="quiz-box">
            <div class="score-panel">
                <span>‚≠ê Score: <span id="score">0</span></span>
                <span>‚ùå Wrong: <span id="wrong">0</span></span>
                <span>‚ùì Q: <span id="q-num">1</span></span>
            </div>
            
            <div id="end-screen" style="display:none;">
                <div style="font-size:4rem;" id="final-stars">‚≠ê‚≠ê‚≠ê</div>
                <h2 id="final-msg" style="color:var(--text);">Awesome!</h2>
                <p>You scored <span id="final-score"></span>%</p>
                <button class="practice-trigger" onclick="startPractice()" style="font-size:1.1rem; padding:12px;">Play Again üîÑ</button>
                <button onclick="closeQuiz()" style="margin-top:15px; background:none; border:none; text-decoration:underline; cursor:pointer; color: #666;">Exit / Bahar nikle</button>
            </div>

            <div id="quiz-area">
                <div class="q-text" id="q-text">Loading...</div>
                <button class="btn-speak" onclick="speakQuestion()">üîä Read Question</button>
                <div class="opt-grid" id="opt-grid">
                    </div>
                <button onclick="closeQuiz()" style="margin-top:20px; padding:10px; border-radius:10px; border:none; background:#eee;">Exit Quiz</button>
            </div>
        </div>
    </div>

    <footer>
        Designed & Created by SHRISHANT YADAV ‚ù§Ô∏è | Shan EduHub
    </footer>

    <script>
        // --- 1. ACCORDION LOGIC ---
        function toggleChapter(id) {
            document.querySelectorAll('.chapter-content').forEach(d => {
                if(d.id !== id) d.classList.remove('active');
            });
            const el = document.getElementById(id);
            el.classList.toggle('active');
            if(el.classList.contains('active')) speak("Let's learn!");
        }

        // --- 2. TTS ENGINE ---
        function speak(text) {
            window.speechSynthesis.cancel();
            const u = new SpeechSynthesisUtterance(text);
            u.lang = 'en-IN';
            u.rate = 0.9;
            u.pitch = 1.2; // Kid friendly pitch
            window.speechSynthesis.speak(u);
        }

        function speakDiv(id) {
            speak(document.getElementById(id).innerText);
        }

        // --- 3. MINI CHECK LOGIC ---
        function checkMini(btn, isCorrect, msg) {
            speak(msg);
            if(isCorrect) {
                btn.classList.add('correct');
                btn.innerText += " ‚úî";
            } else {
                btn.classList.add('wrong');
                btn.innerText += " ‚ùå";
            }
        }

        // --- 4. QUESTION GENERATOR (The Brain) ---
        // Instead of hardcoding 120 questions, we generate them dynamically
        // using data arrays to create permutations.
        
        const plantData = [
            { name: "Mango Tree", type: "Tree", size: "Big", emoji: "ü•≠" },
            { name: "Neem Tree", type: "Tree", size: "Big", emoji: "üåø" },
            { name: "Rose Plant", type: "Shrub", size: "Small", emoji: "üåπ" },
            { name: "Tulsi", type: "Herb", size: "Very Small", use: "Medicine", emoji: "üçÉ" },
            { name: "Mint", type: "Herb", size: "Soft", emoji: "üåø" },
            { part: "Root", loc: "Under soil", func: "Hold plant", emoji: "ü•ú" },
            { part: "Leaf", color: "Green", func: "Make food", emoji: "üçÉ" },
            { part: "Flower", desc: "Beautiful", func: "Smell nice", emoji: "üå∫" },
            { part: "Fruit", desc: "Healthy", func: "Eat", emoji: "üçé" },
            { use: "Wood", source: "Trees", ex: "Table/Chair", emoji: "ü™ë" },
            { use: "Oxygen", source: "Plants", ex: "Breathing", emoji: "üå¨Ô∏è" }
        ];

        function generatePool() {
            let pool = [];

            // Pattern 1: Identify Type (Tree vs Shrub vs Herb)
            plantData.filter(p => p.type).forEach(p => {
                pool.push({ 
                    q: `Is ${p.name} a ${p.type}?`, 
                    ans: "Yes", 
                    opts: ["Yes", "No"] 
                });
                pool.push({ 
                    q: `Identify the ${p.type}:`, 
                    ans: p.name, 
                    opts: [p.name, "Stone", "Car", "Sky"] 
                });
            });

            // Pattern 2: Plant Parts logic
            plantData.filter(p => p.part).forEach(p => {
                pool.push({
                    q: `Which part is ${p.loc || p.color || p.desc}?`,
                    ans: p.part,
                    opts: [p.part, "Car", "House"]
                });
                pool.push({
                    q: `Identify: ${p.emoji}`,
                    ans: p.part,
                    opts: [p.part, "Leg", "Hand"]
                });
            });

            // Pattern 3: Uses logic
            plantData.filter(p => p.use).forEach(p => {
                pool.push({
                    q: `We get ${p.use} from plants.`,
                    ans: "True",
                    opts: ["True", "False"]
                });
            });

            // Pattern 4: General Knowledge
            pool.push(
                {q: "Trees are very...", ans: "Big", opts: ["Big", "Small"]},
                {q: "Leaves are usually...", ans: "Green", opts: ["Green", "Blue"]},
                {q: "Roots are...", ans: "Under soil", opts: ["Under soil", "In sky"]},
                {q: "Do plants need water?", ans: "Yes", opts: ["Yes", "No"]},
                {q: "Should we cut trees?", ans: "No", opts: ["No", "Yes"]},
                {q: "Do plants give us food?", ans: "Yes", opts: ["Yes", "No"]}
            );

            // Shuffle
            return pool.sort(() => 0.5 - Math.random());
        }

        // --- 5. QUIZ ENGINE ---
        let qIndex = 0;
        let score = 0;
        let wrong = 0;
        let currentPool = [];
        const totalQ = 10; // 10 Questions per session (simulating part of the 120 total logic)

        function startPractice() {
            currentPool = generatePool().slice(0, totalQ);
            qIndex = 0; score = 0; wrong = 0;
            updateStats();
            document.getElementById('quiz-modal').style.display = 'flex';
            document.getElementById('end-screen').style.display = 'none';
            document.getElementById('quiz-area').style.display = 'block';
            loadQuestion();
        }

        function loadQuestion() {
            if(qIndex >= totalQ) { showResults(); return; }
            
            const q = currentPool[qIndex];
            document.getElementById('q-text').innerText = q.q;
            document.getElementById('q-num').innerText = qIndex + 1;
            
            // Auto Speak Question
            speak(q.q);

            const grid = document.getElementById('opt-grid');
            grid.innerHTML = '';
            
            // Randomize options including correct + distractors
            let opts = [q.ans];
            let distractors = q.opts.filter(o => o !== q.ans);
            // Ensure we have enough options, if not provided in data, add generics
            if(distractors.length === 0 && q.opts.length === 1) {
                distractors = ["No", "False", "Apple"]; 
            }
            opts = opts.concat(distractors.slice(0, 3)); 
            opts.sort(() => 0.5 - Math.random());

            opts.forEach(o => {
                const btn = document.createElement('button');
                btn.className = 'opt-btn';
                btn.innerText = o;
                btn.onclick = () => handleAnswer(btn, o, q.ans);
                grid.appendChild(btn);
            });
        }

        function speakQuestion() {
            speak(document.getElementById('q-text').innerText);
        }

        function handleAnswer(btn, selected, correct) {
            // Disable buttons
            const allBtns = document.querySelectorAll('.opt-btn');
            allBtns.forEach(b => b.disabled = true);

            if(selected === correct) {
                btn.style.background = '#6BCB77'; // Green
                btn.style.color = 'white';
                btn.style.borderColor = '#6BCB77';
                score++;
                speak("Awesome! Great job.");
            } else {
                btn.style.background = '#FF6B6B'; // Red
                btn.style.color = 'white';
                btn.style.borderColor = '#FF6B6B';
                wrong++;
                speak("Oops! The answer is " + correct);
                
                // Highlight correct
                allBtns.forEach(b => {
                    if(b.innerText === correct) {
                        b.style.background = '#eee';
                        b.style.borderColor = '#6BCB77';
                        b.style.color = '#6BCB77';
                    }
                });
            }
            updateStats();
            setTimeout(() => { qIndex++; loadQuestion(); }, 2000);
        }

        function updateStats() {
            document.getElementById('score').innerText = score;
            document.getElementById('wrong').innerText = wrong;
        }

        function showResults() {
            document.getElementById('quiz-area').style.display = 'none';
            document.getElementById('end-screen').style.display = 'block';
            
            const pct = (score / totalQ) * 100;
            let stars = "‚≠ê";
            let msg = "Keep Growing! üå±";
            
            if(pct >= 90) { stars = "‚≠ê‚≠ê‚≠ê‚≠ê"; msg = "Plant Master! üå≥"; }
            else if(pct >= 75) { stars = "‚≠ê‚≠ê‚≠ê"; msg = "Great Job! üåª"; }
            else if(pct >= 50) { stars = "‚≠ê‚≠ê"; msg = "Good! üåø"; }

            document.getElementById('final-stars').innerText = stars;
            document.getElementById('final-msg').innerText = msg;
            document.getElementById('final-score').innerText = pct;
            speak(msg + " You got " + score + " out of " + totalQ);
        }

        function closeQuiz() {
            document.getElementById('quiz-modal').style.display = 'none';
            speak("Bye bye!");
        }
    </script>
</body>
</html>